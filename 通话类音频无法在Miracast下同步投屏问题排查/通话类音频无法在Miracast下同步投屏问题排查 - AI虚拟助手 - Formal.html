<!DOCTYPE html>
<!-- saved from url=(0062)https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                            <title>通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal</title>
    
        

                        
    
                        
    

                
    
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">

<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://wiki.n.miui.com">

<meta id="atlassian-token" name="atlassian-token" content="1232169562658cf39ccc1445cbb6f852b7c76be8">


<meta id="confluence-space-key" name="confluence-space-key" content="AIAssistant">
<script type="text/javascript">
        var contextPath = '';
</script>

    

    <meta name="confluence-request-time" content="1555929005700">
        
    
        
            <meta name="ajs-is-space-admin" content="false"> <meta name="ajs-has-space-config" content="false">
            <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="{&quot;com.atlassian.confluence.plugins.confluence-dashboard&quot;:[&quot;transition-saved-for-later&quot;,&quot;dialog&quot;,&quot;tips&quot;]}">
            <meta name="ajs-keyboardshortcut-hash" content="56605b2118d9c941948a36247124ea43">
            <script type="text/x-mathjax-config;executed=true"> MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['(mathjax-inline(', ')mathjax-inline)' ] ], displayMath: [ ['(mathjax-block(', ')mathjax-block)' ] ], } }); </script> <script type="text/javascript" async="" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/MathJax.js"> </script>
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-title" content="通话类音频无法在Miracast下同步投屏问题排查">
            <meta name="ajs-latest-published-page-title" content="通话类音频无法在Miracast下同步投屏问题排查">
            <meta name="ajs-space-name" content="AI虚拟助手">
            <meta name="ajs-page-id" content="151891929">
            <meta name="ajs-latest-page-id" content="151891929">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-parent-page-title" content="09.经验分享">
            <meta name="ajs-parent-page-id" content="97008954">
            <meta name="ajs-space-key" content="AIAssistant">
            <meta name="ajs-max-number-editors" content="12">
            <meta name="ajs-macro-placeholder-timeout" content="5000">
            <meta name="ajs-jira-metadata-count" content="-1">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="true">
            <meta name="ajs-can-remove-page-hierarchy" content="true">
            <meta name="ajs-browse-page-tree-mode" content="view">
            <meta name="ajs-shared-drafts" content="false">
            <meta name="ajs-user-display-name" content="Chaoao9 Li 李超">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://wiki.n.miui.com">
            <meta name="ajs-version-number" content="6.13.4">
            <meta name="ajs-build-number" content="7901">
            <meta name="ajs-remote-user" content="v-lichao9">
            <meta name="ajs-remote-user-key" content="8a6d897b69ab3a2d016a051e9b0201b9">
            <meta name="ajs-remote-user-has-licensed-access" content="true">
            <meta name="ajs-remote-user-has-browse-users-permission" content="true">
            <meta name="ajs-current-user-fullname" content="Chaoao9 Li 李超">
            <meta name="ajs-current-user-avatar-url" content="/images/icons/profilepics/default.svg">
            <meta name="ajs-current-user-avatar-uri-reference" content="/images/icons/profilepics/default.svg">
            <meta name="ajs-static-resource-url-prefix" content="/s/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/_">
            <meta name="ajs-global-settings-attachment-max-size" content="31457280">
            <meta name="ajs-user-locale" content="zh_CN">
            <meta name="ajs-enabled-dark-features" content="site-wide.synchrony.disable,site-wide.shared-drafts.disable,confluence.view.edit.transition,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,frontend.editor.v4.compatibility,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,file-annotations,confluence.efi.onboarding.rich.space.content,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.requestaccess.events.AccessGrantedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.PageMoveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentReplyEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,lucene.caching.filter,confluence.table.resizable,notification.batch,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,site-wide.synchrony.opt-in,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,mobile.supported.version,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,quick-reload-inline-comments-flags,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent,clc.quick.create,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.PageUpdateEvent,cql.search.screen,nps.survey.inline.dialog,confluence.efi.onboarding.new.templates,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareCustomEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,collaborative-audit-log,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,editor.ajax.save,graphql,read.only.mode,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,attachment.extracted.text.extractor,notification.plugin.api.enabled.com.atlassian.confluence.plugins.requestaccess.events.AccessRequestedEvent,previews.sharing.pushstate,file-annotations.likes,v2.content.name.searcher,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.PageCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareDraftEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment">
            <meta name="ajs-atl-token" content="1232169562658cf39ccc1445cbb6f852b7c76be8">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="yyyy-M-d">
            <meta name="ajs-access-mode" content="READ_WRITE">
            <meta name="ajs-render-mode" content="READ_WRITE">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="https://wiki.n.miui.com/s/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/28/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://wiki.n.miui.com/s/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/28/_/favicon.ico">

    
                    
            <meta name="ajs-create-issue-metadata-show-discovery" content="true">
            

    <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u0022";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\u0022linkActive\u0022:false,\u0022conditionsMet\u0022:false,\u0022admin\u0022:false}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["confluence.macro.metadata.provider:macro-browser-metadata-resources.macro-meta-client-cache-key"]="\u00221554911894726\u0022";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-help-paths"]="{\u0022entries\u0022:{\u0022applinks.docs.root\u0022:\u0022https://confluence.atlassian.com/display/APPLINKS-054/\u0022,\u0022applinks.docs.diagnostics.troubleshoot.sslunmatched\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthsignatureinvalid\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthtimestamprefused\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.delete.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.adding.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administration.guide\u0022:\u0022Application+Links+Documentation\u0022,\u0022applinks.docs.oauth.security\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.troubleshoot.application.links\u0022:\u0022Troubleshoot+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownerror\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.trusted.apps\u0022:\u0022Configuring+Trusted+Applications+authentication+for+an+application+link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelunsupported\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.ssluntrusted\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownhost\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.delete.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.link.applications\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthproblem\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.migration\u0022:\u0022Update+application+links+to+use+OAuth\u0022,\u0022applinks.docs.relocate.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administering.entity.links\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.upgrade.application.link\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.connectionrefused\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.oauth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.insufficient.remote.permission\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.configuring.application.link.auth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics\u0022:\u0022Application+links+diagnostics\u0022,\u0022applinks.docs.configured.authentication.types\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.adding.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unexpectedresponse\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.basic\u0022:\u0022Configuring+Basic+HTTP+Authentication+for+an+Application+Link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelmismatch\u0022:\u0022OAuth+troubleshooting+guide\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-types"]="{\u0022crowd\u0022:\u0022\u4eba\u7fa4\u0022,\u0022confluence\u0022:\u0022Confluence\u0022,\u0022fecru\u0022:\u0022Fisheye / Crucible\u0022,\u0022stash\u0022:\u0022Bitbucket\u670d\u52a1\u5668\u0022,\u0022jira\u0022:\u0022Jira\u0022,\u0022refapp\u0022:\u0022\u76f8\u5173\u5e94\u7528\u7a0b\u5e8f\u0022,\u0022bamboo\u0022:\u0022\u7af9\u0022,\u0022generic\u0022:\u0022\u901a\u7528\u5e94\u7528\u7a0b\u5e8f\u0022}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.entity-types"]="{\u0022singular\u0022:{\u0022refapp.charlie\u0022:\u0022Charlie\u0022,\u0022fecru.project\u0022:\u0022Crucible\u9879\u76ee\u0022,\u0022fecru.repository\u0022:\u0022FishEye \u4ed3\u5e93\u0022,\u0022stash.project\u0022:\u0022Bitbucket\u670d\u52a1\u5668\u9879\u76ee\u0022,\u0022generic.entity\u0022:\u0022\u901a\u7528\u9879\u76ee\u0022,\u0022confluence.space\u0022:\u0022Confluence\u7a7a\u95f4\u0022,\u0022bamboo.project\u0022:\u0022Bamboo\u9879\u76ee\u0022,\u0022jira.project\u0022:\u0022Jira \u9879\u76ee\u0022},\u0022plural\u0022:{\u0022refapp.charlie\u0022:\u0022\u67e5\u7406\u65af\u0022,\u0022fecru.project\u0022:\u0022Crucible\u9879\u76ee\u0022,\u0022fecru.repository\u0022:\u0022FishEye \u4ed3\u5e93\u96c6\u0022,\u0022stash.project\u0022:\u0022Bitbucket\u670d\u52a1\u5668\u9879\u76ee\u0022,\u0022generic.entity\u0022:\u0022\u901a\u7528\u9879\u76ee\u0022,\u0022confluence.space\u0022:\u0022Confluence\u7a7a\u95f4\u0022,\u0022bamboo.project\u0022:\u0022Bamboo\u9879\u76ee\u0022,\u0022jira.project\u0022:\u0022Jira \u9879\u76ee\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.authentication-types"]="{\u0022com.atlassian.applinks.api.auth.types.BasicAuthenticationProvider\u0022:\u0022\u57fa\u672c\u8bbf\u95ee\u0022,\u0022com.atlassian.applinks.api.auth.types.TrustedAppsAuthenticationProvider\u0022:\u0022\u4fe1\u4efb\u7684\u5e94\u7528\u65e0\u6548\u0022,\u0022com.atlassian.applinks.api.auth.types.CorsAuthenticationProvider\u0022:\u0022\u6b4c\u73e5\u0022,\u0022com.atlassian.applinks.api.auth.types.OAuthAuthenticationProvider\u0022:\u0022Oauth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthAuthenticationProvider\u0022:\u0022Oauth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthWithImpersonationAuthenticationProvider\u0022:\u0022Oauth\u0022}";
WRM._unparsedData["com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader.synchrony-status"]="false";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\u0022daysBeforeLicenseExpiry\u0022:0,\u0022daysBeforeMaintenanceExpiry\u0022:0,\u0022showLicenseExpiryBanner\u0022:false,\u0022showMaintenanceExpiryBanner\u0022:false,\u0022renewUrl\u0022:null,\u0022salesEmail\u0022:null}";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/5fcd3f0c092636187a65b1c5314475fe-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/ec85741cad785658e5d334cee8aab0ba/_/download/contextbatch/css/_super/batch.css?conditionalComment=lt+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/5fcd3f0c092636187a65b1c5314475fe-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/ec85741cad785658e5d334cee8aab0ba/_/download/contextbatch/css/_super/batch.css?conditionalComment=lte+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(1).css" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,atl.general,viewcontent,page,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d591a0e14653ce8053415aae544e0822-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/9f42029530b806ae2cf6e999a5195170/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,atl.general,viewcontent,page,atl.comments,-_super/batch.css?conditionalComment=lt+IE+9&amp;confluence.table.resizable=true&amp;highlightactions=true&amp;hostenabled=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,atl.general,viewcontent,page,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/custom.css" media="all">
<script type="text/javascript" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch.js" data-wrm-key="_super" data-wrm-batch-type="context"></script>
<script type="text/javascript" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(2).js" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,atl.general,viewcontent,page,atl.comments,-_super" data-wrm-batch-type="context"></script>

    

        
    

        
        <meta name="ajs-site-title" content="Formal">
            
    

    
                <link rel="canonical" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
        <link rel="shortlink" href="https://wiki.n.miui.com/x/2a8NCQ">
    <meta name="wikilink" content="[AIAssistant:通话类音频无法在Miracast下同步投屏问题排查]">
    <meta name="page-version" content="6">
    <meta name="ajs-page-version" content="6">

<script type="text/javascript" charset="utf-8" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(3).js"></script><link rel="stylesheet" type="text/css" href="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(4).css"><script type="text/javascript" charset="utf-8" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(5).js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><link rel="stylesheet" type="text/css" href="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/com.atlassian.confluence.ext.newcode-macro-plugin_sh-theme-confluence.css"><script type="text/javascript" charset="utf-8" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(6).js"></script><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style>
            <meta name="ajs-use-watch" content="false">
            <meta name="ajs-attachment-source-content-id" content="151891929">
            <meta name="ajs-use-inline-tasks" content="true">
            <meta name="ajs-heartbeat" content="true">
            <meta name="ajs-action-locale" content="zh_CN">
            <meta name="ajs-editor-plugin-resource-prefix" content="/s/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_">
            <meta name="ajs-edit-mode" content="legacy">
            <meta name="ajs-user-watching-own-content" content="true">
            <meta name="ajs-new-page" content="false">
            <meta name="ajs-editor-mode" content="richtext">
            <meta name="ajs-auto-start" content="false">
            <meta name="ajs-conf-revision" content="confluence$content$151891929.17">
            <meta name="ajs-sync-revision-source" content="">
            <meta name="ajs-draft-id" content="0">
            <meta name="ajs-draft-share-id" content="">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-collaborative-editor-status" content="">
            <meta name="ajs-existing-draft-id" content="0">
            <meta name="ajs-content-id" content="151891929">
            <meta name="ajs-form-name" content="inlinecommentform">
            <meta name="ajs-can-attach-files" content="true">
            <meta name="ajs-show-draft-message" content="false">
            <meta name="ajs-shared-drafts" content="false">
            <meta name="ajs-collaborative-content" content="false">
            <meta name="ajs-min-editor-height" content="150">
            <meta name="ajs-version-comment" content="">
            <meta name="ajs-draft-type" content="page">
                
                <meta name="ajs-synchrony-token" content="">
    <meta name="ajs-synchrony-base-url" content="">
    <meta name="ajs-synchrony-app-id" content="">
    <meta name="ajs-synchrony-expiry" content="">
    <meta name="ajs-use-xhr-fallback" content="">

            		    <meta name="ajs-max-thumb-width" content="300">
		    <meta name="ajs-max-thumb-height" content="300">
		    <meta name="ajs-can-send-email" content="true">
		    <meta name="ajs-is-dev-mode" content="false">
		    <meta name="ajs-draft-save-interval" content="60000">
		    <meta name="ajs-show-hidden-user-macros" content="false">
		    <meta name="ajs-can-view-profile" content="true">
		    <meta name="ajs-is-admin" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autocomplete" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autoformat" content="false">
		    <meta name="ajs-heartbeat-interval" content="30000">
	
    <link rel="stylesheet" type="text/css" href="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(7).css"><script type="text/javascript" charset="utf-8" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/batch(8).js"></script></head>

    
<body id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default" data-aui-version="7.9.7"><div id="MathJax_Message" style="display: none;"></div>

        
            <div id="stp-licenseStatus-banner"></div>
    <ul id="assistive-skip-links" class="assistive">
    <li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#title-heading">转至内容</a></li>
    <li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#breadcrumbs">转至导航栏</a></li>
    <li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#header-menu-bar">转至主菜单</a></li>
    <li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#navigation">转至动作菜单</a></li>
    <li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#quick-search-query">转至快速搜索</a></li>
</ul>
<div id="page">
<div id="full-height-container"><ul id="messageContainer"></ul>
    <div id="header-precursor">
        <div class="cell">
            
                            </div>
    </div>
        





<header id="header" role="banner" class="">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation" data-aui-responsive="true"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger="" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#app-switcher" resolved="" aria-expanded="false"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">已链接应用程序</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default aui-layer" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}" resolved=""><div class="aui-dropdown2-section"><ul class="nav-links"><li class="nav-link"><a href="http://jira.n.xiaomi.com/" class="aui-dropdown2-radio " title="http://jira.n.xiaomi.com" resolved="" aria-checked="false" tabindex="0" role="radio"><span class="nav-link-label">JIRA Formal</span></a></li><li class="nav-link nav-link-local"><a href="https://wiki.n.miui.com/" class="aui-dropdown2-radio aui-dropdown2-checked checked" title="https://wiki.n.miui.com/" resolved="" aria-checked="true" tabindex="0" role="radio"><span class="nav-link-label">Formal</span></a></li></ul></div></div></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://wiki.n.miui.com/"><img src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/atl.site.logo" alt="Formal" data-aui-responsive-header-index="0"><span class="aui-header-logo-text">Formal</span></a></h1><ul class="aui-nav" resolved="" style="width: auto;">
                            <li>
            
        
        
<a id="space-menu-link" class=" aui-dropdown2-trigger aui-nav-link" aria-controls="space-menu-link-content" aria-haspopup="true" role="button" title="空间" tabindex="0" data-aui-trigger="" resolved="" aria-expanded="false" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#space-menu-link-content">空间<span class="icon aui-icon-dropdown"></span></a><div id="space-menu-link-content" class="aui-dropdown2 aui-style-default aui-dropdown2-in-header aui-layer" role="menu" aria-hidden="true" resolved=""><div role="presentation"></div></div>
        </li>
                    <li>
            
    
        
<a id="people-directory-link" href="https://wiki.n.miui.com/browsepeople.action" class=" aui-nav-imagelink" title="人员">
            <span>人员</span>
    </a>
        </li>
                                        <li class="aui-buttons">
                                    
                                        <a href="https://wiki.n.miui.com/pages/createpage.action?spaceKey=AIAssistant&amp;fromPageId=151891929&amp;src=quick-create" id="quick-create-page-button" class="aui-button aui-button-primary" title="创建空白页 (c)" tabindex="0">创建</a>
                                <a href="https://wiki.n.miui.com/pages/createpage.action?spaceKey=AIAssistant&amp;fromPageId=151891929" id="create-page-button" class="aui-button aui-button-primary clc-create-dialog-btn" title="从模板创建" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-more">创建 </span></a>
            </li>
    </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav" resolved="">
                        <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://wiki.n.miui.com/dosearchsite.action" method="get"><fieldset><label for="quick-search-query" class="assistive">快速搜索</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accesskey="q" autocomplete="off" name="queryString" title="快速搜索 (g ，g或 /)" placeholder="搜索"><input id="quick-search-submit" class="quick-search-submit" type="submit" value="搜索"><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger aui-dropdown2-trigger-arrowless" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-haspopup="true" title="帮助" resolved="" aria-controls="help-menu-link-content" aria-expanded="false">
        <span class="aui-icon aui-icon-small aui-iconfont-question-filled">帮助</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default aui-layer" aria-hidden="true" resolved="">
                    <div class="aui-dropdown2-section">
                                <ul id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-613/" class="    " title="访问Confluence文档首页" target="_blank">
        在线帮助
</a>
</li>
                                            <li>
    
                
<a id="keyboard-shortcuts-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="    " title="查看可用的键盘快捷方式 (?)">
        快捷键
</a>
</li>
                                            <li>
    
            
<a id="feed-builder-link" href="https://wiki.n.miui.com/dashboard/configurerssfeed.action" class="    " title="创建个性化的 RSS源。">
        RSS源建立器
</a>
</li>
                                            <li>
    
            
<a id="whats-new-menu-link" href="https://confluence.atlassian.com/display/DOC/Confluence+6.13+Release+Notes?a=false" class="    " title="">
        新功能
</a>
</li>
                                            <li>
    
                
<a id="gadget-directory-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="   user-item administration-link " title="浏览小工具">
        可用的小工具
</a>
</li>
                                            <li>
    
            
<a id="confluence-about-link" href="https://wiki.n.miui.com/aboutconfluencepage.action" class="    " title="获取关于Confluence的更多信息">
        关于Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
                    
        
            
<a id="notifications-anchor" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="mw-anchor read aui-nav-imagelink" title="打开通知 (g ，n)"><div class="badge-i aui-icon aui-icon-small aui-iconfont-notification"></div><span class="badge-w"><span class="badge">0</span></span></a>
    
    </li>
        <li>
                                            
        <a id="user-menu-link" class="aui-dropdown2-trigger aui-dropdown2-trigger-arrowless " aria-haspopup="true" data-username="v-lichao9" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" title="Chaoao9 Li 李超" resolved="" aria-controls="user-menu-link-content" aria-expanded="false">
                    <div class="aui-avatar aui-avatar-small">
                <div class="aui-avatar-inner">
                                                                                                    <img src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/default.svg">
                </div>
            </div>
            <span class="aui-icon-dropdown"></span>
        </a>
        <nav id="user-menu-link-content" class="aui-dropdown2 aui-style-default aui-layer" aria-hidden="true" resolved="">
                            <div class="aui-dropdown2-section">
                    <ul id="user-menu-link-user-preferences" class="aui-list-truncate section-user-preferences first">
                                                    <li>
        
            
<a id="create-personal-space-link" href="https://wiki.n.miui.com/spaces/createpersonalspace.action" class="   user-item personal-space create-personal-space-link " title="">
        添加个人空间…
</a>
</li>
                                                    <li>
    
            
<a id="view-user-history-link" href="https://wiki.n.miui.com/users/viewuserhistory.action" class="   user-item user-history popup-link " title=" (g ，r)">
        最近浏览
</a>
</li>
                                                    <li>
    
            
<a id="user-recently-worked-on" href="https://wiki.n.miui.com/dashboard.action#recently-worked" class="   user-item " title="">
        最近的工作
</a>
</li>
                                            </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="user-menu-link-user-content" class="aui-list-truncate section-user-content">
                                                    <li>
    
            
<a id="view-user-profile-link" href="https://wiki.n.miui.com/users/viewmyprofile.action" class="   user-item user-profile " title="">
        用户信息
</a>
</li>
                                                    <li>
    
            
<a id="view-mytasks-link" href="https://wiki.n.miui.com/plugins/inlinetasks/mytasks.action" class="   user-item list-user-status " title="">
        任务
</a>
</li>
                                                    <li>
    
            
<a id="user-favourites-link" href="https://wiki.n.miui.com/users/viewmyfavourites.action" class="   user-item " title="">
        收藏夹
</a>
</li>
                                                    <li>
    
            
<a id="user-watches-link" href="https://wiki.n.miui.com/users/viewnotifications.action" class="   user-item " title="">
        关注
</a>
</li>
                                                    <li>
    
            
<a id="user-drafts-link" href="https://wiki.n.miui.com/users/viewmydrafts.action" class="   user-item " title="">
        草稿
</a>
</li>
                                                    <li>
    
            
<a id="user-network-link" href="https://wiki.n.miui.com/users/viewfollow.action?username=v-lichao9" class="   follow-link " title="">
        网络
</a>
</li>
                                                    <li>
    
            
<a id="user-settings-link" href="https://wiki.n.miui.com/users/viewmysettings.action" class="   user-item " title="">
        设置
</a>
</li>
                                            </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="user-menu-link-user-operations" class="aui-list-truncate section-user-operations">
                                                    <li>
    
            
<a id="logout-link" href="https://wiki.n.miui.com/logout.action" class="   user-item logout-link " title="">
        注销
</a>
</li>
                                            </ul>
                </div>
                    </nav>
                    
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header><div id="announcement-banner" data-uuid="281c504f-67be-479e-a9a1-23688ed6aa2a" class=" "><span id="banner-close-btn" class="aui-icon aui-icon-small aui-iconfont-close-dialog"></span><font color="red">各位空间管理员和文章所有者，由于wiki系统中有很多合作伙伴和外包员工，若您的文章和空间保密，请进行权限收紧操作，若不知道如何控制，请联系jira-support@xiaomi.com </font><br>
<font color="red">Dear Administrators and editors：
Kindly request you to evaluate the allocated space(or articles) permissions to ensure only appropriate users are having access to edit and publish. 
Please feel free to contact jira-support@xiaomi.com for any clarifications or questions.</font></div>
    

    
    	<div class="ia-splitter">
    		<div class="ia-splitter-left">
    			<div class="ia-fixed-sidebar collapsed" style="width: 55px; visibility: visible; top: 122px; left: 0px;">
                                            
                            <div class="acs-side-bar ia-scrollable-section"><div class="acs-side-bar-space-info tipsy-enabled" data-configure-tooltip="编辑空间详情"><div class="avatar"><div class="space-logo" data-key="AIAssistant" data-name="AI虚拟助手" data-entity-type="confluence.space"><div class="avatar-img-container"><div class="avatar-img-wrapper"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008636&amp;src=sidebar" title="AI虚拟助手"><img class="avatar-img" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/global.logo" alt="AI虚拟助手"></a></div></div></div></div><div class="space-information-container"><div class="name"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008636&amp;src=sidebar" title="AI虚拟助手">AI虚拟助手</a></div><div class="flyout-handle icon aui-icon aui-icon-small aui-iconfont-edit"></div><div class="favourite-space-icon "><button title="收藏空间" id="space-favourite-add" class="space-favourite aui-icon aui-icon-small aui-iconfont-unstar"></button><button class=" space-favourite-hidden  space-favourite aui-icon aui-icon-small aui-iconfont-star" id="space-favourite-remove" title="取消收藏"></button></div></div></div><div class="acs-side-bar-content"><div class="acs-nav-wrapper"><div class="acs-nav" data-has-create-permission="true" data-quick-links-state="null" data-page-tree-state="null" data-nav-type="page-tree"><div class="acs-nav-sections"><div class="main-links-section "><ul class="acs-nav-list"><li class="acs-nav-item wiki current-item" data-collector-key="spacebar-pages"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/collector/pages.action?key=AIAssistant&amp;src=sidebar" data-collapsed-tooltip="页面"><span class="icon"></span><span class="acs-nav-item-label">页面</span></a></li><li class="acs-nav-item blog" data-collector-key="spacebar-blogs"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewrecentblogposts.action?key=AIAssistant&amp;src=sidebar" data-collapsed-tooltip="博文"><span class="icon"></span><span class="acs-nav-item-label">博文</span></a></li></ul></div><div class="quick-links-wrapper"><h5 class="ia-quick-links-header-title">空间快捷链接</h5><div class="quick-links-section tipsy-enabled " data-collapsed-tooltip="空间快捷链接"><ul class="acs-nav-list"><li class="acs-nav-item pinned_page"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=33941469&amp;src=spaceshortcut" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">人工智能部 Overview 主页</span></a></li><li class="acs-nav-item pinned_page"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=6605141&amp;src=spaceshortcut" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">小米手机隐私白皮书 主页</span></a></li><li class="acs-nav-item pinned_page"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=57216815&amp;src=spaceshortcut" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">用户画像团队</span></a></li><li class="acs-nav-item pinned_page"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=9306689&amp;src=spaceshortcut" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">大数据部数据应用组</span></a></li><li class="acs-nav-item external_link"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=123296784" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">手机系统软件质量-奖惩部门信息</span></a></li><li class="acs-nav-item external_link"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=67189190" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">MIUI ROM准入规范1.0</span></a></li><li class="acs-nav-item external_link"><a class="acs-nav-item-link tipsy-enabled" href="http://doc.t.pt.miui.com/xiaomi-stats/docs/" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">小米统计（文档）</span></a></li><li class="acs-nav-item external_link"><a class="acs-nav-item-link tipsy-enabled" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=33085563" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">应用解耦及进版</span></a></li><li class="acs-nav-item external_link"><a class="acs-nav-item-link tipsy-enabled" href="http://m.sec.miui.com/#/datamonitoring/privateinformation/onlineDetect" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">隐私测试平台</span></a></li></ul></div></div></div></div></div><div class="ia-secondary-container tipsy-enabled" data-tree-type="page-tree"><div class="ia-secondary-header"><h5 class="ia-secondary-header-title page-tree"><span class="icon"></span><span class="label">页面树结构</span></h5></div><div class="ia-secondary-content">


<div class="plugin_pagetree conf-macro output-inline" data-hasbody="false" data-macro-name="pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children" id="children97008636-0">
<ul class="plugin_pagetree_children_list" id="child_ul97008636-0">
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus97008685-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan97008685-0">                        <a href="https://wiki.n.miui.com/display/AIAssistant/01.OKR?src=contextnavpagetreemode">01.OKR</a>
        </span>
            </div>

        <div id="children97008685-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan121369881-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=121369881&amp;src=contextnavpagetreemode">02.产品设计</a>
        </span>
            </div>

        <div id="children121369881-0" class="plugin_pagetree_children_container">
            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus97008695-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan97008695-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008695&amp;src=contextnavpagetreemode">03.团队管理</a>
        </span>
            </div>

        <div id="children97008695-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus97008709-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan97008709-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008709&amp;src=contextnavpagetreemode">04.开发过程</a>
        </span>
            </div>

        <div id="children97008709-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus134837266-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan134837266-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=134837266&amp;src=contextnavpagetreemode">05.测试相关</a>
        </span>
            </div>

        <div id="children134837266-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus97470288-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan97470288-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97470288&amp;src=contextnavpagetreemode">06.数据分析</a>
        </span>
            </div>

        <div id="children97470288-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus126751619-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan126751619-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=126751619&amp;src=contextnavpagetreemode">07.  服务运维</a>
        </span>
            </div>

        <div id="children126751619-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus129252564-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan129252564-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=129252564&amp;src=contextnavpagetreemode">08.新人必看</a>
        </span>
            </div>

        <div id="children129252564-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus97008954-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-down" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan97008954-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008954&amp;src=contextnavpagetreemode">09.经验分享</a>
        </span>
            </div>

        <div id="children97008954-0" class="plugin_pagetree_children_container">
                                                        <ul class="plugin_pagetree_children_list" id="child_ul97008954-0">
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan109642316-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=109642316&amp;src=contextnavpagetreemode">ai-assistant app 调试相关</a>
        </span>
            </div>

        <div id="children109642316-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan132822824-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=132822824&amp;src=contextnavpagetreemode">AI按键功能介绍</a>
        </span>
            </div>

        <div id="children132822824-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan150886969-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=150886969&amp;src=contextnavpagetreemode">AI接电话 domain技术开发文档</a>
        </span>
            </div>

        <div id="children150886969-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan110494037-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=110494037&amp;src=contextnavpagetreemode">Android ROM中的system.img挂载</a>
        </span>
            </div>

        <div id="children110494037-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan148270812-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=148270812&amp;src=contextnavpagetreemode">android studio import hide class失败</a>
        </span>
            </div>

        <div id="children148270812-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan131008538-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=131008538&amp;src=contextnavpagetreemode">Android开发常用网站</a>
        </span>
            </div>

        <div id="children131008538-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan132832710-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=132832710&amp;src=contextnavpagetreemode">Android截取"蒙版"下屏幕</a>
        </span>
            </div>

        <div id="children132832710-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan139645883-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=139645883&amp;src=contextnavpagetreemode">Android编译环境</a>
        </span>
            </div>

        <div id="children139645883-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan150890153-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=150890153&amp;src=contextnavpagetreemode">domain上线流程</a>
        </span>
            </div>

        <div id="children150890153-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan151899198-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151899198&amp;src=contextnavpagetreemode">F7A 刷机失败：dtbo分区不存在</a>
        </span>
            </div>

        <div id="children151899198-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan135283953-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=135283953&amp;src=contextnavpagetreemode">gerrit使用经验分享</a>
        </span>
            </div>

        <div id="children135283953-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan137250481-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=137250481&amp;src=contextnavpagetreemode">H5改版快应用实现的问题解决方案</a>
        </span>
            </div>

        <div id="children137250481-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan147867825-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=147867825&amp;src=contextnavpagetreemode">redis模块使用介绍</a>
        </span>
            </div>

        <div id="children147867825-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan151891911-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891911&amp;src=contextnavpagetreemode">Ubuntu 18.04.2 下搭建Android源码编译环境</a>
        </span>
            </div>

        <div id="children151891911-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan136093544-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=136093544&amp;src=contextnavpagetreemode">Ubuntu 安装tensorFlow步骤</a>
        </span>
            </div>

        <div id="children136093544-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan135697506-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=135697506&amp;src=contextnavpagetreemode">从线刷包中提取aiasst_service.apk</a>
        </span>
            </div>

        <div id="children135697506-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan133669840-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=133669840&amp;src=contextnavpagetreemode">关于微服务监控的研究</a>
        </span>
            </div>

        <div id="children133669840-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan108075322-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=108075322&amp;src=contextnavpagetreemode">基于gradle的System APP开发</a>
        </span>
            </div>

        <div id="children108075322-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan135288474-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=135288474&amp;src=contextnavpagetreemode">小爱知道h5改版快应用实现</a>
        </span>
            </div>

        <div id="children135288474-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan138341281-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=138341281&amp;src=contextnavpagetreemode">小米企业开发者账号Q&amp;A</a>
        </span>
            </div>

        <div id="children138341281-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan106837199-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=106837199&amp;src=contextnavpagetreemode">小米统计埋点流程</a>
        </span>
            </div>

        <div id="children106837199-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan132387331-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=132387331&amp;src=contextnavpagetreemode">微博商业接口API调试调用</a>
        </span>
            </div>

        <div id="children132387331-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan131483445-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=131483445&amp;src=contextnavpagetreemode">快应用上线流程</a>
        </span>
            </div>

        <div id="children131483445-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan135274459-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=135274459&amp;src=contextnavpagetreemode">快应用发布须知</a>
        </span>
            </div>

        <div id="children135274459-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan121366350-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=121366350&amp;src=contextnavpagetreemode">快应用开发__环境搭建及审核说明</a>
        </span>
            </div>

        <div id="children121366350-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan132395560-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=132395560&amp;src=contextnavpagetreemode">快应用目前获取手机信息的方式汇总</a>
        </span>
            </div>

        <div id="children132395560-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan131948348-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=131948348&amp;src=contextnavpagetreemode">怎样使用语音服务提供的接口开发语音应用</a>
        </span>
            </div>

        <div id="children131948348-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan149728144-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=149728144&amp;src=contextnavpagetreemode">接入小米应用商店自升级功能</a>
        </span>
            </div>

        <div id="children149728144-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan104665415-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=104665415&amp;src=contextnavpagetreemode">新增apk至MIUI ROM</a>
        </span>
            </div>

        <div id="children104665415-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan119394793-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=119394793&amp;src=contextnavpagetreemode">简单几步安装和搭建Anaconda Python环境</a>
        </span>
            </div>

        <div id="children119394793-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan129264274-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=129264274&amp;src=contextnavpagetreemode">系统APP打开无障碍开关</a>
        </span>
            </div>

        <div id="children129264274-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                            <li>
    <div class="plugin_pagetree_childtoggle_container">
                    <span class="no-children icon"></span>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span plugin_pagetree_current" id="childrenspan151891929-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929&amp;src=contextnavpagetreemode">通话类音频无法在Miracast下同步投屏问题排查</a>
        </span>
            </div>

        <div id="children151891929-0" class="plugin_pagetree_children_container">
            </div>
    </li>
                                        </ul>
                                        </div>
    </li>
            <li>
    <div class="plugin_pagetree_childtoggle_container">
                                            <a id="plusminus143670244-0" class="plugin_pagetree_childtoggle aui-icon aui-icon-small aui-iconfont-chevron-right" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">
            </a>
            </div>
    <div class="plugin_pagetree_children_content">
          
        
                    <span class="plugin_pagetree_children_span" id="childrenspan143670244-0">                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=143670244&amp;src=contextnavpagetreemode">10.多团队合作</a>
        </span>
            </div>

        <div id="children143670244-0" class="plugin_pagetree_children_container">
                                                            </div>
    </li>
    </ul>
</div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=true">
        <input type="hidden" name="treePageId" value="151891929">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="97008636">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="AIAssistant">

        <input type="hidden" name="i18n-pagetree.loading" value="载入中...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="无法载入页面树。看来你没有权限查看根页面。">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="检索页面树时发生问题。有关详细信息，请检查服务器的日志文件。">
        <input type="hidden" name="loginUrl" value="https://cas.mioffice.cn/login?service=https%3A%2F%2Fwiki.n.miui.com%2Fpages%2Fviewpage.action%3FpageId%3D151891929">
        <input type="hidden" name="mobile" value="false">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="97008954">
                                    <input type="hidden" name="ancestorId" value="97008636">
                                    </fieldset>
    </fieldset>
</div>
</div></div></div><div class="hidden"><a href="https://wiki.n.miui.com/collector/pages.action?key=AIAssistant&amp;src=sidebar" id="space-pages-link" title=" (g ，s)"></a><script type="text/x-template" title="logo-config-content"><h2>空间详情</h2><div class="personal-space-logo-hint">您的个人头像被作为您的个人空间的logo使用。<a href="/users/profile/editmyprofilepicture.action" target="_blank">更改您的个人头像</a>.</div></script></div></div><div class="space-tools-section"><div id="space-tools-menu-additional-items" class="hidden"><div data-label="重排页面" data-class="" data-href="/pages/reorderpages.action?key=AIAssistant">重排页面</div></div><button id="space-tools-menu-trigger" class=" aui-dropdown2-trigger aui-button aui-button-subtle tipsy-enabled aui-dropdown2-trigger-arrowless " aria-controls="space-tools-menu" aria-haspopup="true" role="button" data-aui-trigger="" resolved="" aria-expanded="false" data-collapsed-tooltip="空间管理"><span class="aui-icon aui-icon-small aui-iconfont-configure">设置</span><span class="aui-button-label">空间管理</span><span class="icon aui-icon-dropdown"></span></button><div id="space-tools-menu" class="aui-dropdown2 aui-style-default space-tools-dropdown aui-layer" role="menu" aria-hidden="true" data-aui-alignment="top left" resolved=""><div role="presentation" class="aui-dropdown2-section space-tools-navigation"><div role="group"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="https://wiki.n.miui.com/spaces/viewspacesummary.action?key=AIAssistant&amp;src=spacetools">概览</a></li><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="https://wiki.n.miui.com/pages/reorderpages.action?key=AIAssistant&amp;src=spacetools">内容工具</a></li></ul></div></div><div role="presentation" class="aui-dropdown2-section space-operations"><div role="group"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="https://wiki.n.miui.com/pages/reorderpages.action?key=AIAssistant&amp;src=spacetools">重排页面</a></li></ul></div></div></div><a class="expand-collapse-trigger aui-icon aui-icon-small aui-iconfont-chevron-double-right" data-tooltip="展开侧边栏 ( [ )"></a></div>
                    
                        			<div class="ia-splitter-handle tipsy-enabled" data-tooltip="展开侧边栏 ( [ )" title=" ([)"><div class="ia-splitter-handle-highlight confluence-icon-grab-handle"></div></div></div>
    		</div>
        <!-- \#header -->

            
    
        <div id="main" class=" aui-page-panel" style="margin-left: 55px;">
                        <div id="main-header" style="top: 40px; width: 1305px;" class="">
                        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                                                    <li class="ajs-button normal">

        
        
                                            
    
    
    <a id="editPageLink" href="https://wiki.n.miui.com/pages/editpage.action?pageId=151891929" rel="nofollow" class="aui-button aui-button-subtle edit" accesskey="e" title="编辑 (e)">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-edit"></span>
                        <u>E</u>编辑
        </span>    </a>
</li>
                                            <li class="ajs-button normal">

        
            
                                            
    
    
    <a id="page-favourite" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" rel="nofollow" class="aui-button aui-button-subtle action-page-favourite" accesskey="f" title="收藏 (f)">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-unstar"></span>
                        <u>F</u>收藏
        </span>    </a>
</li>
                                            <li class="ajs-button normal">

        
            
                                            
    
    
    <a id="watch-content-button" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" rel="nofollow" class="aui-button aui-button-subtle watch-menu watch-state-initialised" title="停止关注 (w)">
                <span><span class="aui-icon aui-icon-small aui-iconfont-watch"></span> <u>W</u>关注中</span>    </a>
</li>
                                            <li class="ajs-button normal">

        
            
                                            
    
    
    <a id="shareContentLink" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" rel="nofollow" class="aui-button aui-button-subtle share" title="Share this page with others (s或 k)">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-share"></span>
                        <u>S</u>分享
        </span>    </a>
</li>
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-haspopup="true" data-container="#navigation" resolved="" aria-controls="action-menu" aria-expanded="false">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default aui-layer most-right-menu-item" aria-hidden="true" resolved="">
                            <div class="aui-dropdown2-section">
                    <ul id="action-menu-primary" class="section-primary first">
                                                    <li>

    
        
                                            
    
    
    <a id="view-attachments-link" href="https://wiki.n.miui.com/pages/viewpageattachments.action?pageId=151891929" rel="nofollow" class="action-view-attachments" accesskey="t" title="查看附件 (t)">
                <span>
                        <u>t</u>附件(0)
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-view-history-link" href="https://wiki.n.miui.com/pages/viewpreviousversions.action?pageId=151891929" rel="nofollow" class="action-view-history" title="">
                <span>
                        页面历史
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-page-permissions-link" href="https://wiki.n.miui.com/pages/viewinfo.action?pageId=151891929" rel="nofollow" class="action-page-permissions" title="编辑限制">
                <span>
                        限制
        </span>    </a>
</li>
                                        </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="action-menu-secondary" class="section-secondary">
                                                    <li>

    
        
                                            
    
    
    <a id="view-page-info-link" href="https://wiki.n.miui.com/pages/viewinfo.action?pageId=151891929" rel="nofollow" class="action-view-info" title="">
                <span>
                        页面信息
        </span>    </a>
</li>
                                                <li>

    
            
                                            
    
    
    <a id="view-resolved-comments" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" rel="nofollow" class="" title="">
                <span>已解决评论 (0)</span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="view-in-hierarchy-link" href="https://wiki.n.miui.com/pages/reorderpages.action?key=AIAssistant&amp;openId=151891929#selectedPageInHierarchy" rel="nofollow" class="" title="">
                <span>
                        以层级方式查看
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-view-source-link" href="https://wiki.n.miui.com/plugins/viewsource/viewpagesrc.action?pageId=151891929" rel="nofollow" class="action-view-source popup-link" title="">
                <span>
                        查看页面源代码
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-export-pdf-link" href="https://wiki.n.miui.com/spaces/flyingpdf/pdfpageexport.action?pageId=151891929" rel="nofollow" class="" title="">
                <span>
                        导出为PDF
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-export-word-link" href="https://wiki.n.miui.com/exportword?pageId=151891929" rel="nofollow" class="action-export-word" title="">
                <span>
                        导出为Word
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="rate-page-admin-link" href="https://wiki.n.miui.com/rate/pageAdmin.action?pageId=151891929" rel="nofollow" class="" title="">
                <span>
                        Rate Admin
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="import-word-doc" href="https://wiki.n.miui.com/pages/worddav/uploadimport.action?pageId=151891929" rel="nofollow" class="" title="">
                <span>
                        Doc文件导入
        </span>    </a>
</li>
                                        </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="action-menu-modify" class="section-modify">
                                                    <li>

    
        
                                            
    
    
    <a id="action-copy-page-link" href="https://wiki.n.miui.com/pages/copypage.action?idOfPageToCopy=151891929&amp;spaceKey=AIAssistant" rel="nofollow" class="action-copy" title="">
                <span>
                        复制
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-move-page-dialog-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929" rel="nofollow" class="action-move" title="">
                <span>
                        移动
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-remove-content-link" href="https://wiki.n.miui.com/pages/removepage.action?pageId=151891929" rel="nofollow" class="action-remove" title="">
                <span>
                        删除
        </span>    </a>
</li>
                                        </ul>
                </div>
                    </div>
    </li>
            </ul>
    </div>

            
            <div id="title-heading" class="pagetitle with-breadcrumbs">
                
                                    <div id="breadcrumb-section">
                        
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="https://wiki.n.miui.com/collector/pages.action?key=AIAssistant&amp;src=breadcrumbs-collector">页面</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008636&amp;src=breadcrumbs">AI虚拟助手 —— It's more than a voice assistant.</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008954&amp;src=breadcrumbs-parent">09.经验分享</a></span>
                                                                    </li></ol>


                    </div>
                
                
        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#page-banner-end" class="assistive">跳到banner的尾部</a>
<div id="page-banner-start" class="assistive"></div>

                    
            <div id="page-metadata-banner" style="visibility: visible;"><ul class="banner"><li id="system-content-items" class="noprint"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929" title="未限制" id="content-metadata-page-restrictions" class="aui-icon aui-icon-small aui-iconfont-unlocked system-metadata-restrictions" resolved=""></a></li><li class="page-metadata-item noprinthas-button" id="content-metadata-jira-wrapper"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929" title="" id="content-metadata-jira" class="aui-button aui-button-subtle content-metadata-jira tipsy-disabled hidden"><span>JIRA 链接</span></a></li></ul></div>
            

<a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#page-banner-start" class="assistive">回到标题开始</a>
<div id="page-banner-end" class="assistive"></div>
    

                <h1 id="title-text" class="with-breadcrumbs" style="display: block;">
                                                <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929">通话类音频无法在Miracast下同步投屏问题排查</a>
                                    </h1>
            </div>
        </div><!-- \#main-header -->
        
        

        <div id="sidebar-container">
                                                </div><!-- \#sidebar-container -->

        
    

        




            
    

                                
    

    
    
        
    
    
                    
    

    

    
            
        

    
    

    
            
        



    
<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



            <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">页面标题</th>
                <th class="search-result-space">空间</th>
                <th class="search-result-date">更新于</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
            

        
                            
    

                    

        
        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#page-metadata-end" class="assistive">转至元数据结尾</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
            <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            由<span class="author">     <a href="https://wiki.n.miui.com/display/~v-lichao9" class="url fn confluence-userlink userlink-0" data-username="v-lichao9" title="" data-user-hover-bound="true">Chaoao9 Li 李超</a></span>创建, 最后修改于<a class="last-modified" title="查看变更" href="https://wiki.n.miui.com/pages/diffpagesbyversion.action?pageId=151891929&amp;selectedPageVersions=5&amp;selectedPageVersions=6">大约1分钟以前</a>
                </li>
        </ul>
    </div>


<a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#page-metadata-start" class="assistive">转至元数据起始</a>
<div id="page-metadata-end" class="assistive"></div>

        
                                            
        <div id="main-content" class="wiki-content">
                           
        <hr><h1 id="id-通话类音频无法在Miracast下同步投屏问题排查-1.问题描述"><span style="color: rgb(0,0,255);">1.问题描述</span></h1><p><span style="color: rgb(0,0,255);"><br></span></p><pre>  最近工作中接触到了<span style="color: rgb(199,37,78);">Miracast</span>投屏技术，然而在实际的使用中，发现小米手机在投屏中像<span style="color: rgb(199,37,78);">QQ</span>、<span style="color: rgb(199,37,78);">微信</span>的音视频通话过程中在被投屏的设备终端上只有画面，并不能成功代理播放音频，而其他普通的应用例如抖音则没有这个问题。</pre><h1 id="id-通话类音频无法在Miracast下同步投屏问题排查-2.探索阶段"><span style="color: rgb(0,0,255);">2.探索阶段</span></h1><p><span style="color: rgb(0,0,255);"><br></span></p><p>&nbsp; &nbsp; &nbsp;猜测是<span style="color: rgb(199,37,78);">Miracast</span>只支持<strong>非通话</strong>模式的音频投屏，实际上，一段音频数据要在<span style="color: rgb(199,37,78);">Android</span>设备上进行播放大致都会经过如下几个步骤：</p><ol><li>采集音频源，音频源来源于本地文件(mp3等)、网络、麦克风录音等</li><li>设置音频流类型，为什么要有音频流类型的区分？<br>音乐音量50，此时来了电话，对方声音太小你听不清楚，调音量到100，那么挂断电话后如果没有音频流的区分，你的音乐音量也会达到100吓你一跳。所以你会发现手机可以区分调整铃声、通话、媒体音量等（这只是原因之一，安全原因也是重要原因，这里不重点讨论）。<br>在<span style="color: rgb(199,37,78);">Android</span>源码&nbsp;<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/" rel="nofollow">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/" rel="nofollow">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioManager.java" rel="nofollow">AudioManager.java</a>的路径中你会看到如下类型：<br><pre><span class="c" style="color: rgb(102,102,102);">/** Used to identify the default audio stream volume */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_DEFAULT&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_DEFAULT</a> = -<span class="n" style="color: rgb(165,42,42);">1</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for phone calls */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_VOICE_CALL&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_VOICE_CALL</a> = <span class="n" style="color: rgb(165,42,42);">0</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for system sounds */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_SYSTEM&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_SYSTEM</a> = <span class="n" style="color: rgb(165,42,42);">1</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for the phone ring and message alerts */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_RING&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_RING</a> = <span class="n" style="color: rgb(165,42,42);">2</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for music playback */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_MUSIC&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_MUSIC</a> = <span class="n" style="color: rgb(165,42,42);">3</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for alarms */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_ALARM&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_ALARM</a> = <span class="n" style="color: rgb(165,42,42);">4</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for notifications */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_NOTIFICATION&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_NOTIFICATION</a> = <span class="n" style="color: rgb(165,42,42);">5</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for phone calls when connected on bluetooth */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_BLUETOOTH_SCO&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_BLUETOOTH_SCO</a> = <span class="n" style="color: rgb(165,42,42);">6</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for enforced system sounds in certain 64 * countries (e.g camera in Japan) */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_SYSTEM_ENFORCED&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_SYSTEM_ENFORCED</a> = <span class="n" style="color: rgb(165,42,42);">7</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for DTMF tones */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_DTMF&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_DTMF</a> = <span class="n" style="color: rgb(165,42,42);">8</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams exclusively transmitted through the 69 * speaker (TTS) of the device */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_TTS&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_TTS</a> = <span class="n" style="color: rgb(165,42,42);">9</span>;
    <span class="c" style="color: rgb(102,102,102);">/** Used to identify the volume of audio streams for accessibility prompts */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_ACCESSIBILITY&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_ACCESSIBILITY</a> = <span class="n" style="color: rgb(165,42,42);">10</span>;
    <span class="c" style="color: rgb(102,102,102);">/** 74 * <strong>@deprecated</strong> Use {<strong>@link</strong> #numStreamTypes() instead} 75 */</span>
    <strong>public</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=NUM_STREAMS&amp;project=v10-o-lotus-dev" rel="nofollow">NUM_STREAMS</a> = <span class="n" style="color: rgb(165,42,42);">5</span>;

    <span class="c" style="color: rgb(102,102,102);">// Expose only the getter method publicly so we can change it in the future</span>
    <strong>private</strong> <strong>static</strong> <strong>final</strong> <strong>int</strong> <a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=NUM_STREAM_TYPES&amp;project=v10-o-lotus-dev" rel="nofollow">NUM_STREAM_TYPES</a> = <span class="n" style="color: rgb(165,42,42);">11</span>;</pre><p>具体每个类型代表什么意思自行查阅吧，基本跟字面意思差不多，这里重点关注<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_MUSIC&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_MUSIC</a>和<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_VOICE_CALL&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_VOICE_CALL</a>，也就是说手机在使用一般app下音频流类型都是<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_MUSIC&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_MUSIC</a>，而使用拨打网络音视频电话的时候音频流类型就成了<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_VOICE_CALL&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_VOICE_CALL</a>。</p></li><li><p>设置音频模式，经过查阅资料发现，Android系统的音频模式由<span style="color: rgb(199,37,78);">Android</span>源码包下<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow" style="letter-spacing: 0.0px;">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow" style="letter-spacing: 0.0px;">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/" rel="nofollow" style="letter-spacing: 0.0px;">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/" rel="nofollow" style="letter-spacing: 0.0px;">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/" rel="nofollow" style="letter-spacing: 0.0px;">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/" rel="nofollow" style="letter-spacing: 0.0px;">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioManager.java" rel="nofollow" style="letter-spacing: 0.0px;">AudioManager.java</a>来管理，它有一个的<strong style="letter-spacing: 0.0px;">setMode()</strong>方法用于设置音频模式。<br>但首先需要申请<span style="color: rgb(199,37,78);">android.permission.MODIFY_AUDIO_SETTINGS</span>权限，<strong>setMode()</strong>一般使用以下几种参数：</p><ul><li><pre><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_NORMAL&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_NORMAL</a>&nbsp;: 普通模式</pre></li><li><pre><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_RINGTONE&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_RINGTONE</a>: 铃声模式</pre></li><li><pre><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_IN_CALL&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_IN_CALL</a>: 呼叫模式</pre></li><li><pre><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_IN_COMMUNICATION&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_IN_COMMUNICATION</a>: 通话模式，包括音/视频、VoIP通话（3.0加入的,与通话模式类似）</pre></li></ul><p>&nbsp; &nbsp; &nbsp;通过调用<strong>AudioManager</strong>中的<strong>getMode()：</strong></p><ul><li><p>在使用普通三方app播放音频的时候，返回值是<strong>0</strong>对应<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_NORMAL&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_NORMAL</a>模式</p></li><li>在使用<span style="color: rgb(199,37,78);">QQ</span>、<span style="color: rgb(199,37,78);">微信</span>在音视频通话过程中放音频的时候，返回值是<strong>3</strong>对应<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_IN_COMMUNICATION&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_IN_COMMUNICATION</a>模式</li></ul></li><li><p>设置播放该音频的硬件设备，在<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_IN_COMMUNICATION&amp;project=v10-o-lotus-dev" rel="nofollow">MODE_IN_COMMUNICATION</a>模式下声音大多数情况下会从手机听筒中传出而非扬声器（也有有线设备、蓝牙设备等），通过<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioManager.java" rel="nofollow">AudioManager.java</a>的<strong><span style="color: rgb(47,47,47);">setSpeakerphoneOn()</span></strong>可以设置是否打开扬声器。</p></li><li><p>使用播放框架进行播放，Android中有两种方式：</p><p><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/" rel="nofollow">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/" rel="nofollow">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/MediaPlayer.java" rel="nofollow">MediaPlayer.java</a></p><p>和</p><p><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/" rel="nofollow">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/" rel="nofollow">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioTrack.java" rel="nofollow">AudioTrack.java</a><br>对于<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/MediaPlayer.java" rel="nofollow">MediaPlayer.java</a>来说，它播放的是有格式的音频类型例如mp3,而<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioTrack.java" rel="nofollow">AudioTrack.java</a>多用来播放原始的音频数据。</p></li></ol><hr><p><strong>至此，翻阅第二小节你就会发现</strong></p><p><br></p><p><strong>看抖音：</strong></p><ul><li><strong>音频流类型为<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_MUSIC&amp;project=v10-o-lotus-dev" rel="nofollow" style="letter-spacing: 0.0px;">STREAM_MUSIC</a></strong></li><li><strong>音频模式为<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_NORMAL&amp;project=v10-o-lotus-dev" rel="nofollow" style="letter-spacing: 0.0px;">MODE_NORMAL</a></strong></li><li><strong>播放方式通过扬声器</strong></li><li><strong>数据来源于网络，使用<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/MediaPlayer.java" rel="nofollow">MediaPlayer.java</a></strong><br><br></li></ul><p><strong>微信视频：</strong></p><ul><li><strong>音频流类型为<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_VOICE_CALL&amp;project=v10-o-lotus-dev" rel="nofollow" style="letter-spacing: 0.0px;">STREAM_VOICE_CALL</a></strong></li><li><strong>音频模式为<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=MODE_IN_COMMUNICATION&amp;project=v10-o-lotus-dev" rel="nofollow" style="letter-spacing: 0.0px;">MODE_IN_COMMUNICATION</a></strong></li><li><strong>播放方式通过听筒</strong></li><li><strong>数据来源于麦克风录音，使用<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioTrack.java" rel="nofollow">AudioTrack.java</a></strong><br><br><br></li></ul><p><strong>如要解决此问题，其种一类思路就是将通话类型的音频模拟成普通的音频那么<span style="color: rgb(199,37,78);">Miracast</span>就可以正常投屏了</strong></p><hr><h1 id="id-通话类音频无法在Miracast下同步投屏问题排查-3.代码修改"><span style="color: rgb(0,0,255);">3.代码修改</span></h1><p><span style="color: rgb(0,0,255);"><br></span></p><p>&nbsp; &nbsp; &nbsp;总共需要修改三个类：</p><p>&nbsp; &nbsp; &nbsp;1.&nbsp;&nbsp;<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow" style="letter-spacing: 0.0px;">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow" style="letter-spacing: 0.0px;">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/" rel="nofollow" style="letter-spacing: 0.0px;">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/" rel="nofollow" style="letter-spacing: 0.0px;">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/" rel="nofollow" style="letter-spacing: 0.0px;">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/" rel="nofollow" style="letter-spacing: 0.0px;">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/AudioTrack.java" rel="nofollow" style="letter-spacing: 0.0px;">AudioTrack.java</a><span style="letter-spacing: 0.0px;">，第540行左右，这里找到构造器将流类型设置成</span><strong style="letter-spacing: 0.0px;">3</strong><span style="letter-spacing: 0.0px;">也就是</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_MUSIC&amp;project=v10-o-lotus-dev" rel="nofollow" style="letter-spacing: 0.0px;">STREAM_MUSIC</a><span style="letter-spacing: 0.0px;">：</span></p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>修改后，通话中的声音可以正常投屏</b></div><div class="codeContent panelContent pdl">
<div><div id="highlighter_20906" class="syntaxhighlighter sh-confluence nogutter  java"><div class="toolbar"><span><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">AudioTrack(AudioAttributes attributes, AudioFormat format, </code><code class="java keyword">int</code> <code class="java plain">bufferSizeInBytes,</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">mode, </code><code class="java keyword">int</code> <code class="java plain">sessionId)</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throws</code> <code class="java plain">IllegalArgumentException {</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">super</code><code class="java plain">(</code><code class="java keyword">new</code> <code class="java plain">AudioAttributes.Builder()</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setLegacyStreamType(</code><code class="java value">3</code><code class="java plain">)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.build(), AudioPlaybackConfiguration.PLAYER_TYPE_JAM_AUDIOTRACK);</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"getVolumeControlStream:"</code> <code class="java plain">+ attributes.getVolumeControlStream() + </code><code class="java string">" "</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">+ </code><code class="java string">"mode:"</code> <code class="java plain">+ mode + </code><code class="java string">" "</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">+ </code><code class="java string">"sessionId:"</code> <code class="java plain">+ sessionId + </code><code class="java string">" "</code><code class="java plain">);</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"AudioTrack&nbsp;&nbsp;&nbsp;&nbsp; StreamType修改为:3"</code><code class="java plain">);</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// mState already == STATE_UNINITIALIZED</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(format == </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throw</code> <code class="java keyword">new</code> <code class="java plain">IllegalArgumentException(</code><code class="java string">"Illegal null AudioFormat"</code><code class="java plain">);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// Check if we should enable deep buffer mode</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(shouldEnablePowerSaving(mAttributes, format, bufferSizeInBytes, mode)) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mAttributes = </code><code class="java keyword">new</code> <code class="java plain">AudioAttributes.Builder(mAttributes)</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.replaceFlags((mAttributes.getAllFlags()</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">| AudioAttributes.FLAG_DEEP_BUFFER)</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">&amp; ~AudioAttributes.FLAG_LOW_LATENCY)</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.build();</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// remember which looper is associated with the AudioTrack instantiation</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Looper looper;</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((looper = Looper.myLooper()) == </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">looper = Looper.getMainLooper();</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">rate = format.getSampleRate();</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(rate == AudioFormat.SAMPLE_RATE_UNSPECIFIED) {</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">rate = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number39 index38 alt2">&nbsp;</div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">channelIndexMask = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((format.getPropertySetMask()</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">&amp; AudioFormat.AUDIO_FORMAT_HAS_PROPERTY_CHANNEL_INDEX_MASK) != </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">channelIndexMask = format.getChannelIndexMask();</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">channelMask = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((format.getPropertySetMask()</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">&amp; AudioFormat.AUDIO_FORMAT_HAS_PROPERTY_CHANNEL_MASK) != </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">channelMask = format.getChannelMask();</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(channelIndexMask == </code><code class="java value">0</code><code class="java plain">) { </code><code class="java comments">// if no masks at all, use stereo</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">channelMask = AudioFormat.CHANNEL_OUT_FRONT_LEFT</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">| AudioFormat.CHANNEL_OUT_FRONT_RIGHT;</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">encoding = AudioFormat.ENCODING_DEFAULT;</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((format.getPropertySetMask() &amp; AudioFormat.AUDIO_FORMAT_HAS_PROPERTY_ENCODING) != </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">encoding = format.getEncoding();</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">audioParamCheck(rate, channelMask, channelIndexMask, encoding, mode);</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mStreamType = AudioSystem.STREAM_DEFAULT;</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">audioBuffSizeCheck(bufferSizeInBytes);</code></div><div class="line number61 index60 alt2">&nbsp;</div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mInitializationLooper = looper;</code></div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(sessionId &lt; </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throw</code> <code class="java keyword">new</code> <code class="java plain">IllegalArgumentException(</code><code class="java string">"Invalid audio session ID: "</code> <code class="java plain">+ sessionId);</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] sampleRate = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[]{mSampleRate};</code></div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] session = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">session[</code><code class="java value">0</code><code class="java plain">] = sessionId;</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// native initialization</code></div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">initResult = native_setup(</code><code class="java keyword">new</code> <code class="java plain">WeakReference&lt;android.media.AudioTrack&gt;(</code><code class="java keyword">this</code><code class="java plain">), mAttributes,</code></div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sampleRate, mChannelMask, mChannelIndexMask, mAudioFormat,</code></div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mNativeBufferSizeInBytes, mDataLoadMode, session, </code><code class="java value">0</code> <code class="java comments">/*nativeTrackInJavaObj*/</code><code class="java plain">);</code></div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(initResult != SUCCESS) {</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">loge(</code><code class="java string">"Error code "</code> <code class="java plain">+ initResult + </code><code class="java string">" when initializing AudioTrack."</code><code class="java plain">);</code></div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">; </code><code class="java comments">// with mState == STATE_UNINITIALIZED</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number79 index78 alt2">&nbsp;</div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mSampleRate = sampleRate[</code><code class="java value">0</code><code class="java plain">];</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mSessionId = session[</code><code class="java value">0</code><code class="java plain">];</code></div><div class="line number82 index81 alt1">&nbsp;</div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((mAttributes.getFlags() &amp; AudioAttributes.FLAG_HW_AV_SYNC) != </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">frameSizeInBytes;</code></div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(AudioFormat.isEncodingLinearFrames(mAudioFormat)) {</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">frameSizeInBytes = mChannelCount * AudioFormat.getBytesPerSample(mAudioFormat);</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">frameSizeInBytes = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number89 index88 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mOffset = ((</code><code class="java keyword">int</code><code class="java plain">) Math.ceil(HEADER_V2_SIZE_BYTES / frameSizeInBytes)) * frameSizeInBytes;</code></div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(mDataLoadMode == MODE_STATIC) {</code></div><div class="line number94 index93 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mState = STATE_NO_STATIC_DATA;</code></div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number96 index95 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mState = STATE_INITIALIZED;</code></div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">baseRegisterPlayer();</code></div><div class="line number100 index99 alt1">&nbsp;</div><div class="line number101 index100 alt2"><code class="java comments">//</code></div><div class="line number102 index101 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super(attributes, AudioPlaybackConfiguration.PLAYER_TYPE_JAM_AUDIOTRACK);</code></div><div class="line number103 index102 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // mState already == STATE_UNINITIALIZED</code></div><div class="line number104 index103 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (format == null) {</code></div><div class="line number105 index104 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new IllegalArgumentException("Illegal null AudioFormat");</code></div><div class="line number106 index105 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number107 index106 alt2"><code class="java comments">//</code></div><div class="line number108 index107 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Check if we should enable deep buffer mode</code></div><div class="line number109 index108 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (shouldEnablePowerSaving(mAttributes, format, bufferSizeInBytes, mode)) {</code></div><div class="line number110 index109 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mAttributes = new AudioAttributes.Builder(mAttributes)</code></div><div class="line number111 index110 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .replaceFlags((mAttributes.getAllFlags()</code></div><div class="line number112 index111 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | AudioAttributes.FLAG_DEEP_BUFFER)</code></div><div class="line number113 index112 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; ~AudioAttributes.FLAG_LOW_LATENCY)</code></div><div class="line number114 index113 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .build();</code></div><div class="line number115 index114 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number116 index115 alt1"><code class="java comments">//</code></div><div class="line number117 index116 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // remember which looper is associated with the AudioTrack instantiation</code></div><div class="line number118 index117 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Looper looper;</code></div><div class="line number119 index118 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((looper = Looper.myLooper()) == null) {</code></div><div class="line number120 index119 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; looper = Looper.getMainLooper();</code></div><div class="line number121 index120 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number122 index121 alt1"><code class="java comments">//</code></div><div class="line number123 index122 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int rate = format.getSampleRate();</code></div><div class="line number124 index123 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (rate == AudioFormat.SAMPLE_RATE_UNSPECIFIED) {</code></div><div class="line number125 index124 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rate = 0;</code></div><div class="line number126 index125 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number127 index126 alt2"><code class="java comments">//</code></div><div class="line number128 index127 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int channelIndexMask = 0;</code></div><div class="line number129 index128 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((format.getPropertySetMask()</code></div><div class="line number130 index129 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; AudioFormat.AUDIO_FORMAT_HAS_PROPERTY_CHANNEL_INDEX_MASK) != 0) {</code></div><div class="line number131 index130 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; channelIndexMask = format.getChannelIndexMask();</code></div><div class="line number132 index131 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number133 index132 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int channelMask = 0;</code></div><div class="line number134 index133 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((format.getPropertySetMask()</code></div><div class="line number135 index134 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp; AudioFormat.AUDIO_FORMAT_HAS_PROPERTY_CHANNEL_MASK) != 0) {</code></div><div class="line number136 index135 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; channelMask = format.getChannelMask();</code></div><div class="line number137 index136 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if (channelIndexMask == 0) { // if no masks at all, use stereo</code></div><div class="line number138 index137 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; channelMask = AudioFormat.CHANNEL_OUT_FRONT_LEFT</code></div><div class="line number139 index138 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | AudioFormat.CHANNEL_OUT_FRONT_RIGHT;</code></div><div class="line number140 index139 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number141 index140 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int encoding = AudioFormat.ENCODING_DEFAULT;</code></div><div class="line number142 index141 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((format.getPropertySetMask() &amp; AudioFormat.AUDIO_FORMAT_HAS_PROPERTY_ENCODING) != 0) {</code></div><div class="line number143 index142 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encoding = format.getEncoding();</code></div><div class="line number144 index143 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number145 index144 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioParamCheck(rate, channelMask, channelIndexMask, encoding, mode);</code></div><div class="line number146 index145 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStreamType = AudioSystem.STREAM_DEFAULT;</code></div><div class="line number147 index146 alt2"><code class="java comments">//</code></div><div class="line number148 index147 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioBuffSizeCheck(bufferSizeInBytes);</code></div><div class="line number149 index148 alt2"><code class="java comments">//</code></div><div class="line number150 index149 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mInitializationLooper = looper;</code></div><div class="line number151 index150 alt2"><code class="java comments">//</code></div><div class="line number152 index151 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (sessionId &lt; 0) {</code></div><div class="line number153 index152 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new IllegalArgumentException("Invalid audio session ID: "+sessionId);</code></div><div class="line number154 index153 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number155 index154 alt2"><code class="java comments">//</code></div><div class="line number156 index155 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] sampleRate = new int[] {mSampleRate};</code></div><div class="line number157 index156 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] session = new int[1];</code></div><div class="line number158 index157 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session[0] = sessionId;</code></div><div class="line number159 index158 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // native initialization</code></div><div class="line number160 index159 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int initResult = native_setup(new WeakReference&lt;AudioTrack&gt;(this), mAttributes,</code></div><div class="line number161 index160 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sampleRate, mChannelMask, mChannelIndexMask, mAudioFormat,</code></div><div class="line number162 index161 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mNativeBufferSizeInBytes, mDataLoadMode, session, 0 /*nativeTrackInJavaObj*/);</code></div><div class="line number163 index162 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (initResult != SUCCESS) {</code></div><div class="line number164 index163 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loge("Error code "+initResult+" when initializing AudioTrack.");</code></div><div class="line number165 index164 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return; // with mState == STATE_UNINITIALIZED</code></div><div class="line number166 index165 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number167 index166 alt2"><code class="java comments">//</code></div><div class="line number168 index167 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mSampleRate = sampleRate[0];</code></div><div class="line number169 index168 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mSessionId = session[0];</code></div><div class="line number170 index169 alt1"><code class="java comments">//</code></div><div class="line number171 index170 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((mAttributes.getFlags() &amp; AudioAttributes.FLAG_HW_AV_SYNC) != 0) {</code></div><div class="line number172 index171 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int frameSizeInBytes;</code></div><div class="line number173 index172 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (AudioFormat.isEncodingLinearFrames(mAudioFormat)) {</code></div><div class="line number174 index173 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frameSizeInBytes = mChannelCount * AudioFormat.getBytesPerSample(mAudioFormat);</code></div><div class="line number175 index174 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {</code></div><div class="line number176 index175 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frameSizeInBytes = 1;</code></div><div class="line number177 index176 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number178 index177 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mOffset = ((int) Math.ceil(HEADER_V2_SIZE_BYTES / frameSizeInBytes)) * frameSizeInBytes;</code></div><div class="line number179 index178 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number180 index179 alt1"><code class="java comments">//</code></div><div class="line number181 index180 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (mDataLoadMode == MODE_STATIC) {</code></div><div class="line number182 index181 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mState = STATE_NO_STATIC_DATA;</code></div><div class="line number183 index182 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {</code></div><div class="line number184 index183 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mState = STATE_INITIALIZED;</code></div><div class="line number185 index184 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number186 index185 alt1"><code class="java comments">//</code></div><div class="line number187 index186 alt2"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; baseRegisterPlayer();</code></div><div class="line number188 index187 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
</div></div><p>&nbsp; &nbsp;</p><p>&nbsp; &nbsp; &nbsp;2.&nbsp;&nbsp;<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/" rel="nofollow">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/" rel="nofollow">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/" rel="nofollow">media</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/media/java/android/media/MediaPlayer.java" rel="nofollow">MediaPlayer.java</a><span>，第2166行左右，这里也强行将音频流类型设置成</span><strong>3</strong><span>也就是</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/s?refs=STREAM_MUSIC&amp;project=v10-o-lotus-dev" rel="nofollow">STREAM_MUSIC</a><span>：</span></p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>修改后，铃声可以正常投屏</b></div><div class="codeContent panelContent pdl">
<div><div id="highlighter_37564" class="syntaxhighlighter sh-confluence nogutter  java"><div class="toolbar"><span><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">setAudioStreamType(</code><code class="java keyword">int</code> <code class="java plain">streamtype) {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"setAudioStreamType："</code><code class="java plain">);</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"音频流类型被设置为："</code> <code class="java plain">+ streamtype);</code></div><div class="line number4 index3 alt1"><code class="java comments">//</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(streamtype == </code><code class="java value">0</code><code class="java plain">){</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"音频流类型被强行设置为3"</code><code class="java plain">);</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;</code><code class="java plain">deprecateStreamTypeForPlayback(</code><code class="java value">3</code><code class="java plain">, </code><code class="java string">"MediaPlayer"</code><code class="java plain">, </code><code class="java string">"setAudioStreamType()"</code><code class="java plain">);</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;</code><code class="java plain">baseUpdateAudioAttributes(</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">AudioAttributes.Builder().setInternalLegacyStreamType(</code><code class="java value">3</code><code class="java plain">).build());</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;</code><code class="java plain">_setAudioStreamType(</code><code class="java value">3</code><code class="java plain">);</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;</code><code class="java plain">mStreamType = </code><code class="java value">3</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;</code><code class="java plain">}</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">deprecateStreamTypeForPlayback(streamtype, </code><code class="java string">"MediaPlayer"</code><code class="java plain">, </code><code class="java string">"setAudioStreamType()"</code><code class="java plain">);</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;</code><code class="java plain">baseUpdateAudioAttributes(</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">AudioAttributes.Builder().setInternalLegacyStreamType(streamtype).build());</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;</code><code class="java plain">_setAudioStreamType(streamtype);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;</code><code class="java plain">mStreamType = streamtype;</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;</code><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
</div></div><p><br></p><p>&nbsp; &nbsp; &nbsp;</p><p>&nbsp; &nbsp; &nbsp;3.找到<a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/" rel="nofollow">frameworks</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/" rel="nofollow">base</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/" rel="nofollow">services</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/" rel="nofollow">core</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/java/" rel="nofollow">java</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/java/com/" rel="nofollow">com</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/java/com/android/" rel="nofollow">android</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/java/com/android/server/" rel="nofollow">server</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/java/com/android/server/audio/" rel="nofollow">audio</a><span style="color: rgb(0,0,0);">/</span><a class="external-link" href="http://opengrok.pt.xiaomi.com/opengrok/xref/v10-o-lotus-dev/frameworks/base/services/core/java/com/android/server/audio/AudioService.java" rel="nofollow">AudioService.java</a>第3018行左右：</p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>开启扬声器，不开启声音会从听筒传出</b></div><div class="codeContent panelContent pdl">
<div><div id="highlighter_236936" class="syntaxhighlighter sh-confluence nogutter  java"><div class="toolbar"><span><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">setSpeakerphoneOn( </code><code class="java keyword">boolean</code> <code class="java plain">on )</code></div><div class="line number2 index1 alt1"><code class="java plain">{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">( !checkAudioSettingsPermission( </code><code class="java string">"setSpeakerphoneOn()"</code> <code class="java plain">) )</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">{</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">/* for logging only */</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">final</code> <code class="java plain">String eventSource = </code><code class="java keyword">new</code> <code class="java plain">StringBuilder( </code><code class="java string">"setSpeakerphoneOn("</code> <code class="java plain">).append( </code><code class="java keyword">true</code> <code class="java plain">)</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.append( </code><code class="java string">") from u/pid:"</code> <code class="java plain">).append( Binder.getCallingUid() ).append( </code><code class="java string">"/"</code> <code class="java plain">)</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.append( Binder.getCallingPid() ).toString();</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">/* MIUI ADD: */</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">( AudioServiceInjector.isAppCalledInCall( mContext ) )</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i( </code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"强行开启扬声器"</code> <code class="java plain">);</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">( mForcedUseForComm == AudioSystem.FORCE_BT_SCO )</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">{</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sendMsg( mAudioHandler, MSG_SET_FORCE_USE, SENDMSG_QUEUE,</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">AudioSystem.FOR_RECORD, AudioSystem.FORCE_NONE,</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">eventSource, </code><code class="java value">0</code> <code class="java plain">);</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mForcedUseForComm = AudioSystem.FORCE_SPEAKER;</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mForcedUseForCommExt = mForcedUseForComm;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sendMsg( mAudioHandler, MSG_SET_FORCE_USE, SENDMSG_QUEUE,</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">AudioSystem.FOR_COMMUNICATION, mForcedUseForComm, eventSource, </code><code class="java value">0</code> <code class="java plain">);</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">( DEBUG_VOL )</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.d( TAG, </code><code class="java string">"setSpeakerphoneOn "</code> <code class="java plain">+ mForcedUseForComm );</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="java comments">/*</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!checkAudioSettingsPermission("setSpeakerphoneOn()")) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for logging only</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; final String eventSource = new StringBuilder("setSpeakerphoneOn(").append(on)</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .append(") from u/pid:").append(Binder.getCallingUid()).append("/")</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .append(Binder.getCallingPid()).toString();</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // MIUI ADD:</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (AudioServiceInjector.isAppCalledInCall(mContext)) return;</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (on) {</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (mForcedUseForComm == AudioSystem.FORCE_BT_SCO) {</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sendMsg(mAudioHandler, MSG_SET_FORCE_USE, SENDMSG_QUEUE,</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AudioSystem.FOR_RECORD, AudioSystem.FORCE_NONE,</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eventSource, 0);</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mForcedUseForComm = AudioSystem.FORCE_SPEAKER;</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if (mForcedUseForComm == AudioSystem.FORCE_SPEAKER) {</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mForcedUseForComm = AudioSystem.FORCE_NONE;</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mForcedUseForCommExt = mForcedUseForComm;</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sendMsg(mAudioHandler, MSG_SET_FORCE_USE, SENDMSG_QUEUE,</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AudioSystem.FOR_COMMUNICATION, mForcedUseForComm, eventSource, 0);</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;</code><code class="java comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (DEBUG_VOL) Log.d(TAG, "setSpeakerphoneOn " + mForcedUseForComm);</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;</code><code class="java comments">*/</code></div><div class="line number60 index59 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
</div></div><p><br></p><pre>&nbsp; &nbsp; &nbsp;找到第2608行左右：</pre><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>使音频模式强行变成0也就是MODE_NORMAL</b></div><div class="codeContent panelContent pdl">
<div><div id="highlighter_663357" class="syntaxhighlighter sh-confluence nogutter  java"><div class="toolbar"><span><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">setMode(</code><code class="java keyword">int</code> <code class="java plain">mode, IBinder cb, String callingPackage) {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">newModeOwnerPid = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"即将被修改的AudioMode为:"</code> <code class="java plain">+&nbsp; mode);</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">switch</code> <code class="java plain">(mode) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">case</code> <code class="java value">3</code><code class="java plain">:</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.i(</code><code class="java string">"XIAOMIAUDIO"</code><code class="java plain">, </code><code class="java string">"AudioMode强行修改为0"</code> <code class="java plain">);</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">synchronized</code> <code class="java plain">(mSetModeDeathHandlers) {</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java value">0</code> <code class="java plain">== AudioSystem.MODE_CURRENT) {</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mode = mMode;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newModeOwnerPid = setModeInt(</code><code class="java value">0</code><code class="java plain">, cb, Binder.getCallingPid(), callingPackage);</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// when entering RINGTONE, IN_CALL or IN_COMMUNICATION mode, clear all</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// SCO connections not started by the application changing the mode</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(newModeOwnerPid != </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">disconnectBluetoothSco(newModeOwnerPid);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">break</code><code class="java plain">;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">default</code><code class="java plain">:</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(DEBUG_MODE) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.v(TAG, </code><code class="java string">"setMode(mode="</code> <code class="java plain">+ mode + </code><code class="java string">", callingPackage="</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">+ callingPackage + </code><code class="java string">")"</code><code class="java plain">);</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!checkAudioSettingsPermission(</code><code class="java string">"setMode()"</code><code class="java plain">)) {</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(DEBUG_VOL) Log.e(TAG, </code><code class="java string">"setMode: No permission!"</code><code class="java plain">);</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((mode == AudioSystem.MODE_IN_CALL) &amp;&amp;</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">(mContext.checkCallingOrSelfPermission(</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">android.Manifest.permission.MODIFY_PHONE_STATE)</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">!= PackageManager.PERMISSION_GRANTED)) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Log.w(TAG, </code><code class="java string">"MODIFY_PHONE_STATE Permission Denial: setMode(MODE_IN_CALL) from pid="</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">+ Binder.getCallingPid() + </code><code class="java string">", uid="</code> <code class="java plain">+ Binder.getCallingUid());</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(mode &lt; AudioSystem.MODE_CURRENT || mode &gt;= AudioSystem.NUM_MODES) {</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(DEBUG_VOL) Log.e(TAG, </code><code class="java string">"setMode: Invalid mode!"</code><code class="java plain">);</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">synchronized</code> <code class="java plain">(mSetModeDeathHandlers) {</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(mode == AudioSystem.MODE_CURRENT) {</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">mode = mMode;</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newModeOwnerPid = setModeInt(mode, cb, Binder.getCallingPid(), callingPackage);</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// when entering RINGTONE, IN_CALL or IN_COMMUNICATION mode, clear all</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// SCO connections not started by the application changing the mode</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(newModeOwnerPid != </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">disconnectBluetoothSco(newModeOwnerPid);</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
</div></div><p><br></p><h1 id="id-通话类音频无法在Miracast下同步投屏问题排查-4.编译并生效"><span style="color: rgb(0,0,255);">4.编译并生效</span></h1><p><span style="color: rgb(0,0,255);"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891911">Ubuntu 18.04.2 下搭建Android源码编译环境</a></span></p><hr><p><strong><span style="color: rgb(255,0,0);">这种方法比较粗暴，这样修改后，音频系统肯定会出现一些问题，需要单独根据需求做出逻辑判断再修改代码！</span></strong></p><p><br></p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929"
    dc:identifier="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929"
    dc:title="通话类音频无法在Miracast下同步投屏问题排查"
    trackback:ping="https://wiki.n.miui.com/rpc/trackback/151891929"/>
</rdf:RDF>
-->

                        
    



<div id="likes-and-labels-container"><div id="likes-section" class="no-print"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929" class="like-button"><span class="aui-icon aui-icon-small aui-iconfont-like"></span><span class="like-button-text">赞</span></a><span class="like-summary like-summary-margin-left">成为第一个赞同者</span></div><div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="151891929" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right  has-pen">
            <li class="no-labels-message">
            无标签
        </li>
                <li class="labels-edit-container">
            <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="show-labels-editor" title="编辑标签 (l)">
                <span class="aui-icon aui-icon-small aui-iconfont-devtools-tag-small">编辑标签</span>
            </a>
        </li>
        </ul>

    </div>
</div>
</div></div>
        
		
            




            
        








                        
    
<div id="comments-section" class="pageSection group">
        
    


    <div class="bottom-comment-panels comment-panels">
                
                    
    


        
        
    
    <div class="quick-comment-container comment add"><p class="comment-user-logo"><a class="userLogoLink userlink-0" data-username="v-lichao9" href="https://wiki.n.miui.com/users/profile/editmyprofilepicture.action" title="" data-user-hover-bound="true"><img class="userLogo logo defaultLogo" src="./通话类音频无法在Miracast下同步投屏问题排查 - AI虚拟助手 - Formal_files/add_profile_pic.svg" alt="用户图标: 添加头像" title=""></a></p><div class="quick-comment-body"><div class="quick-comment-loading-container" style="display:none;"></div><div id="editor-messages"></div><div id="all-messages"></div><form style="display:block;" class="quick-comment-form aui" method="post" name="inlinecommentform" action="https://wiki.n.miui.com/pages/doaddcomment.action?pageId=151891929"><div title="添加评论 (m)" class="quick-comment-prompt"><span>编写评论...</span></div></form></div></div>

            </div>

            <div id="comments-actions" class="aui-toolbar noprint" style="display: none;">
            <p class="toolbar-group">
                <span class="toolbar-item"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929&amp;showComments=true&amp;showCommentArea=true#addcomment" id="add-comment-rte" accesskey="m" class="toolbar-trigger">添加评论</a></span>
            </p>
        </div>
    </div>
        


                
    
            
</div>

    

    




    
    

    
    
    


    
<div id="space-tools-web-items" class="hidden">
                <div data-label="概览" data-href="/spaces/viewspacesummary.action?key=AIAssistant">概览</div>
            <div data-label="内容工具" data-href="/pages/reorderpages.action?key=AIAssistant">内容工具</div>
    </div>
        



            </div><!-- \#main -->
            
    
    
        
            
            

<div id="footer" role="contentinfo" style="margin-left: 55px;">
    <section class="footer-body">

                                                    
        

        <ul id="poweredby">
            <li class="noprint">基于 <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link" rel="nofollow">Atlassian Confluence</a> <span id="footer-build-information">6.13.4</span> 技术构建</li>
            <li class="print-only">由 Atlassian 合流6.13.4 打印</li>
            <li class="noprint"><a href="https://support.atlassian.com/help/confluence" class="hover-footer-link" rel="nofollow">报告缺陷</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link" rel="nofollow">Atlassian 新闻</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/" rel="nofollow">Atlassian</a></div>

                    小米信息部
        
    </section>
</div>

    
</div>

</div><!-- \#full-height-container -->
</div><!-- \#page -->

    <span style="display:none;" id="confluence-server-performance">{"serverDuration": 513, "requestCorrelationId": "293f9c4444b83d5b"}</span>


<script type="text/javascript">
    AJS.BigPipe = AJS.BigPipe || {};
    AJS.BigPipe.metrics = AJS.BigPipe.metrics || {};
    AJS.BigPipe.metrics.pageEnd = typeof window.performance !== "undefined" && typeof window.performance.now === "function"
                                    ? Math.ceil(window.performance.now()) : 0;
    AJS.BigPipe.metrics.isBigPipeEnabled = 'false' === 'true';
</script>


    
<audio controls="controls" style="display: none;"></audio><div id="editor-preload-container" style="display: none;">
 

<div class="hidden">
        


<content tag="breadcrumbs">
    
    
    <ol id="quickedit-breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="https://wiki.n.miui.com/display/AIAssistant" target="_blank">AI虚拟助手</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="https://wiki.n.miui.com/collector/pages.action?key=AIAssistant" target="_blank">页面</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008636" target="_blank">AI虚拟助手 —— It's more than a voice assistant.</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=97008954" target="_blank">09.经验分享</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class="edited-page-title"><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929" target="_blank">通话类音频无法在Miracast下同步投屏问题排查</a></span>
                                                                    </li></ol>

</content>
</div>


        
    

                                                                                        

<script type="text/x-template" title="editor-css" id="editor-css-resources">
    <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/3.1.0/_/download/batch/com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-editor-content-resources/com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/3.1.4/_/download/batch/com.tngtech.confluence.plugins.tableenhancer:fixedheaders-in-editor-resources/com.tngtech.confluence.plugins.tableenhancer:fixedheaders-in-editor-resources.css" data-wrm-key="com.tngtech.confluence.plugins.tableenhancer:fixedheaders-in-editor-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/025db4566562116adc5cdff41cef8e9a-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/7.9.7/_/download/batch/com.atlassian.auiplugin:aui-page-typography/com.atlassian.auiplugin:aui-page-typography.css" data-wrm-key="com.atlassian.auiplugin:aui-page-typography" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/025db4566562116adc5cdff41cef8e9a-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/7.9.7/_/download/batch/com.atlassian.auiplugin:aui-link/com.atlassian.auiplugin:aui-link.css" data-wrm-key="com.atlassian.auiplugin:aui-link" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/025db4566562116adc5cdff41cef8e9a-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/7.9.7/_/download/batch/com.atlassian.auiplugin:aui-avatars/com.atlassian.auiplugin:aui-avatars.css" data-wrm-key="com.atlassian.auiplugin:aui-avatars" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/47a8861ddeabe407d6a865c6dde5d487-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/7.9.7/_/download/batch/com.atlassian.auiplugin:aui-page-layout/com.atlassian.auiplugin:aui-page-layout.css" data-wrm-key="com.atlassian.auiplugin:aui-page-layout" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/ffac64c8ac1a578f182b6f0d74f755ad-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_/download/batch/com.atlassian.confluence.editor:editor-content-styles/com.atlassian.confluence.editor:editor-content-styles.css" data-wrm-key="com.atlassian.confluence.editor:editor-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/ffac64c8ac1a578f182b6f0d74f755ad-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_/download/batch/com.atlassian.confluence.editor:table-resizable-editor-content-styles/com.atlassian.confluence.editor:table-resizable-editor-content-styles.css?confluence.table.resizable=true" data-wrm-key="com.atlassian.confluence.editor:table-resizable-editor-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/ffac64c8ac1a578f182b6f0d74f755ad-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_/download/batch/com.atlassian.confluence.editor:table-resizable-styles/com.atlassian.confluence.editor:table-resizable-styles.css?confluence.table.resizable=true" data-wrm-key="com.atlassian.confluence.editor:table-resizable-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_/download/batch/com.atlassian.confluence.plugins.confluence-templates:variable-editor-content-styles/com.atlassian.confluence.plugins.confluence-templates:variable-editor-content-styles.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-templates:variable-editor-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/025db4566562116adc5cdff41cef8e9a-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/7.9.7/_/download/batch/com.atlassian.auiplugin:aui-lozenge/com.atlassian.auiplugin:aui-lozenge.css" data-wrm-key="com.atlassian.auiplugin:aui-lozenge" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/85aded984d32e6df43893124b5aff573-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/3.0.4/_/download/batch/com.atlassian.confluence.plugins.status-macro:view_content_status/com.atlassian.confluence.plugins.status-macro:view_content_status.css" data-wrm-key="com.atlassian.confluence.plugins.status-macro:view_content_status" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/85aded984d32e6df43893124b5aff573-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/3.0.4/_/download/batch/com.atlassian.confluence.plugins.status-macro:editor_content_status/com.atlassian.confluence.plugins.status-macro:editor_content_status.css" data-wrm-key="com.atlassian.confluence.plugins.status-macro:editor_content_status" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/9daf7afbce8f12b08a5c226d5aed29c7-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/3.1.14/_/download/batch/com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-content-resources/com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/1bf6e69c18341244d990250bf5aa3ce0-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/1.4.0/_/download/batch/com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-content-resources/com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/a0e894d2f295b40fda5171460781b200-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.0.3/_/download/batch/confluence.extra.attachments:attachments-css/confluence.extra.attachments:attachments-css.css" data-wrm-key="confluence.extra.attachments:attachments-css" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/14.2.1/_/download/batch/com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-placeholder-css/com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-placeholder-css.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-placeholder-css" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/1.0/_/download/batch/confluence.web.resources:panel-styles/confluence.web.resources:panel-styles.css" data-wrm-key="confluence.web.resources:panel-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/6a67458d5e778a4f204767fcfb0884b7-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/1.0/_/download/batch/confluence.web.resources:content-styles/confluence.web.resources:content-styles.css" data-wrm-key="confluence.web.resources:content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_/download/batch/com.atlassian.confluence.plugins.confluence-page-layout:editor-pagelayout-content-styles/com.atlassian.confluence.plugins.confluence-page-layout:editor-pagelayout-content-styles.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-page-layout:editor-pagelayout-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/11.0.2/_/download/batch/com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles/com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/11.0.2/_/download/batch/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css" data-wrm-batch-type="resource" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/11.0.2/_/download/batch/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css.css?conditionalComment=lte+IE+9" data-wrm-key="com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css" data-wrm-batch-type="resource" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/5baeb58a5608e28c5f241eee74f064b2-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/4.0.2/_/download/batch/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-content-resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/5.1.4/_/download/batch/com.atlassian.confluence.plugins.confluence-software-blueprints:common-resources/com.atlassian.confluence.plugins.confluence-software-blueprints:common-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-software-blueprints:common-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/28/_/styles/custom.css" media="all">

</script>













        

<div class="editor-container">

        
            

<div id="link-browser-tab-items" class="hidden">
                <div title="搜索" data-weight="10">search</div>
            <div title="最近浏览过" data-weight="20">recentlyviewed</div>
            <div title="文件" data-weight="30">attachments</div>
            <div title="Web链接" data-weight="40">weblink</div>
            <div title="高级" data-weight="50">advanced</div>
    </div>
            <div id="image-properties-tab-items" class="hidden">
                <div title="效果" data-weight="10">image-effects</div>
            <div title="标题" data-weight="20">image-attributes</div>
    </div>
            

 










<div id="toolbar">
    <div id="rte-toolbar" class="aui-toolbar aui-toolbar2">

        <div class="aui-toolbar2-primary toolbar-primary">
            <ul class="aui-buttons rte-toolbar-group-formatting">
                            <li id="format-dropdown" class="toolbar-item toolbar-dropdown">
                    <div class="aui-dd-parent">
                        <a id="format-dropdown-display" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar-trigger aui-dd-trigger aui-button" data-control-id="formatselect">
                            <span class="dropdown-text">正文</span>
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                        </a>
                        <ul id="format-dropdown-display-menu" class="aui-dropdown hidden">
                            <li class="dropdown-item format-p" data-format="p" data-tooltip="正文 (Ctrl+0)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">正文</a>
</li>
                                <li class="dropdown-item format-h1" data-format="h1" data-tooltip="标题 1 (Ctrl+1)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">标题 1</a>
</li>
                                <li class="dropdown-item format-h2" data-format="h2" data-tooltip="标题 2 (Ctrl+2)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">标题 2</a>
</li>
                                <li class="dropdown-item format-h3" data-format="h3" data-tooltip="标题 3 (Ctrl+3)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">标题 3</a>
</li>
                                <li class="dropdown-item format-h4" data-format="h4" data-tooltip="标题 4 (Ctrl+4)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">标题 4</a>
</li>
                                <li class="dropdown-item format-h5" data-format="h5" data-tooltip="标题 5 (Ctrl+5)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">标题 5</a>
</li>
                                <li class="dropdown-item format-h6" data-format="h6" data-tooltip="标题 6 (Ctrl+6)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">标题 6</a>
</li>
                                <li class="dropdown-item format-pre" data-format="pre" data-tooltip="预格式化 (Ctrl+7)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">预格式化</a>
</li>
                                <li class="dropdown-item format-blockquote" data-format="blockquote" data-tooltip="引用 (Ctrl+8)">
    <a class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">引用</a>
</li>
                        </ul>
                    </div>
                </li>
            </ul>

            <ul class="aui-buttons rte-toolbar-group-style">
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-bold" data-tooltip="粗体 (Ctrl+B)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="bold">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-bold ">粗体</span>
    </a>
</li>
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-italic" data-tooltip="斜体 (Ctrl+I)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="italic">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-italic ">斜体</span>
    </a>
</li>
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-underline" data-tooltip="下划线 (Ctrl+U)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="underline">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-underline ">下划线</span>
    </a>
</li>
                            <li id="color-picker-control" class="toolbar-item toolbar-splitbutton">
                    <a class="toolbar-trigger aui-button" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" id="rte-button-color" data-color="003366" data-tooltip="颜色"><span class="icon aui-icon aui-icon-small aui-iconfont-editor-color ">颜色选取器</span><span class="selected-color"></span></a><div class="aui-dd-parent"><a class="toolbar-trigger aui-dd-trigger aui-button" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" id="rte-button-color-selector" data-control-id="colorSelector" data-tooltip="更多颜色"><span class="icon aui-icon aui-icon-small aui-iconfont-dropdown ">更多颜色</span></a><div class="color-picker-container"><div class="color-picker aui-dropdown hidden"><ul><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="黑色" data-tooltip="黑色" style="background-color: #000000" data-color="000000">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="深橙黄色" data-tooltip="深橙黄色" style="background-color: #993300" data-color="993300">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="深橄榄绿色" data-tooltip="深橄榄绿色" style="background-color: #333300" data-color="333300">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="深绿色" data-tooltip="深绿色" style="background-color: #003300" data-color="003300">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="藏青色" data-tooltip="藏青色" style="background-color: #003366" data-color="003366">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="海蓝色" data-tooltip="海蓝色" style="background-color: #000080" data-color="000080">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="靛蓝色" data-tooltip="靛蓝色" style="background-color: #333399" data-color="333399">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="深灰色" data-tooltip="深灰色" style="background-color: #333333" data-color="333333">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="褐红色" data-tooltip="褐红色" style="background-color: #800000" data-color="800000">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="橙色" data-tooltip="橙色" style="background-color: #FF6600" data-color="FF6600">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="橄榄绿色" data-tooltip="橄榄绿色" style="background-color: #808000" data-color="808000">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="绿色" data-tooltip="绿色" style="background-color: #008000" data-color="008000">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="蓝绿色" data-tooltip="蓝绿色" style="background-color: #008080" data-color="008080">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="蓝色" data-tooltip="蓝色" style="background-color: #0000FF" data-color="0000FF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="灰蓝色" data-tooltip="灰蓝色" style="background-color: #666699" data-color="666699">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="灰色" data-tooltip="灰色" style="background-color: #7A869A" data-color="7A869A">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="红色" data-tooltip="红色" style="background-color: #FF0000" data-color="FF0000">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="琥珀色" data-tooltip="琥珀色" style="background-color: #FF9900" data-color="FF9900">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="黄绿色" data-tooltip="黄绿色" style="background-color: #99CC00" data-color="99CC00">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="海绿色" data-tooltip="海绿色" style="background-color: #339966" data-color="339966">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="青绿色" data-tooltip="青绿色" style="background-color: #33CCCC" data-color="33CCCC">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="宝蓝色" data-tooltip="宝蓝色" style="background-color: #3366FF" data-color="3366FF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="紫色" data-tooltip="紫色" style="background-color: #800080" data-color="800080">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="中灰色" data-tooltip="中灰色" style="background-color: #A5ADBA" data-color="A5ADBA">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="洋红色" data-tooltip="洋红色" style="background-color: #FF00FF" data-color="FF00FF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="金色" data-tooltip="金色" style="background-color: #FFCC00" data-color="FFCC00">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="黄色" data-tooltip="黄色" style="background-color: #FFFF00" data-color="FFFF00">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="绿黄色" data-tooltip="绿黄色" style="background-color: #00FF00" data-color="00FF00">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="湖绿色" data-tooltip="湖绿色" style="background-color: #00FFFF" data-color="00FFFF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="天蓝色" data-tooltip="天蓝色" style="background-color: #00CCFF" data-color="00CCFF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="红紫色" data-tooltip="红紫色" style="background-color: #993366" data-color="993366">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="浅灰色" data-tooltip="浅灰色" style="background-color: #C1C7D0" data-color="C1C7D0">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="粉色" data-tooltip="粉色" style="background-color: #FF99CC" data-color="FF99CC">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="桃红色" data-tooltip="桃红色" style="background-color: #FFCC99" data-color="FFCC99">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="浅黄色" data-tooltip="浅黄色" style="background-color: #FFFF99" data-color="FFFF99">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="浅绿色" data-tooltip="浅绿色" style="background-color: #CCFFCC" data-color="CCFFCC">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="浅蓝绿色" data-tooltip="浅蓝绿色" style="background-color: #CCFFFF" data-color="CCFFFF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="浅天蓝色" data-tooltip="浅天蓝色" style="background-color: #99CCFF" data-color="99CCFF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="绛紫色" data-tooltip="绛紫色" style="background-color: #CC99FF" data-color="CC99FF">&nbsp;</a></li><li><a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" aria-label="白色" data-tooltip="白色" style="background-color: #FFFFFF" data-color="FFFFFF">&nbsp;</a></li></ul></div></div></div>
                </li>
                <li id="more-menu" class="toolbar-item toolbar-dropdown">
                    <div class="aui-dd-parent">
                        <a id="rte-button-more" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar-trigger aui-dd-trigger aui-button" data-tooltip="更多">
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-styles ">格式</span>
                                            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                        </a>
                        <div id="rte-button-more-menu" class="aui-dropdown grouped hidden">
                            <div class="grouped-dropdown-item">
                                <ul>
                                                        <li class="dropdown-item more-menu-trigger" data-control-id="strikethrough" data-tooltip="删除线 (Ctrl+Shift+S)">
    <a id="rte-strikethrough" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
删除线
    </a>
</li>
                                                             <li class="dropdown-item more-menu-trigger" data-control-id="sub" data-tooltip="">
    <a id="rte-sub" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
下标
    </a>
</li>
                                                             <li class="dropdown-item more-menu-trigger" data-control-id="sup" data-tooltip="">
    <a id="rte-sup" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
上标
    </a>
</li>
                                                    <li class="dropdown-item more-menu-trigger" data-control-id="monospace" data-tooltip="用等宽字体格式化文本">
    <a id="rte-monospace" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
等宽
    </a>
</li>

                                                                                                                </ul>
                            </div>
                            <div class="grouped-dropdown-item">
                                <ul>
                                    <li class="dropdown-item more-menu-trigger no-icon" data-format="removeformat" data-tooltip="当前选中文本清除格式">
<a id="rte-removeformat" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
    清除格式
</a>
</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </li>
            </ul>

            <ul class="aui-buttons rte-toolbar-group-lists">
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-bullist" data-tooltip="无序列表 (Ctrl+Shift+B)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="bullist">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-list-bullet ">无序列表</span>
    </a>
</li>
                    
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-numlist" data-tooltip="有序列表 (Ctrl+Shift+N)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="numlist">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-list-number ">有序列表</span>
    </a>
</li>
            </ul>
                            <ul class="aui-buttons rte-toolbar-group-task-lists">
                    
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-tasklist" data-tooltip="任务列表 (tinymce.confluence.layout.three_col=三栏)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="tasklist">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-task ">任务列表</span>
    </a>
</li>
                </ul>
            
            <ul class="aui-buttons rte-toolbar-group-indentation">
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-outdent" data-tooltip="减小缩进">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="outdent">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-indent-left ">减小缩进</span>
    </a>
</li>
                    
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-indent" data-tooltip="增大缩进">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="indent">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-indent-right ">增大缩进</span>
    </a>
</li>
            </ul>

            <ul class="aui-buttons rte-toolbar-group-justification">
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-justifyleft" data-tooltip="左对齐">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="justifyleft">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-align-left ">左对齐</span>
    </a>
</li>
                    
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-justifycenter" data-tooltip="居中">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="justifycenter">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-align-center ">居中</span>
    </a>
</li>
                    
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-justifyright" data-tooltip="右对齐">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="justifyright">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-align-right ">右对齐</span>
    </a>
</li>
            </ul>

                            <ul class="aui-buttons hidden" id="page-layout-2-group">
                    <li id="page-layout-2" class="toolbar-item" data-tooltip="页面布局">
                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="aui-button aui-button-subtle toolbar-trigger" id="rte-button-pagelayout-2">
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-layout ">页面布局</span>
                        </a>
                    </li>
                </ul>
            

            <ul class="aui-buttons rte-toolbar-group-files hidden"></ul>

            <ul class="aui-buttons rte-toolbar-group-link no-separator">
                <li class="toolbar-item" data-tooltip="插入链接 (Ctrl+K)">
                    <a id="rte-button-link" class="toolbar-trigger aui-button aui-button-subtle" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="linkbrowserButton">
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-link "></span>
                        <span class="trigger-text">链接</span>
                    </a>
                </li>
            </ul>

            <ul class="aui-buttons rte-toolbar-group-table no-separator">
                <li class="toolbar-item toolbar-dropdown" id="insert-table-dropdown">
                    <div class="aui-dd-parent">
                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar-trigger aui-dd-trigger aui-button aui-button-subtle" id="rte-button-insert-table" data-tooltip="插入表格">
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-table "></span>
                            <span class="dropdown-text">表格</span>
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                        </a>

                        <div id="table-picker-container" class="hidden aui-box-shadow">
                            <div class="table-picker-box" data-tooltip="按住 SHIFT键，创建无表头表格 。">
                                <div class="table-picker-background">
                                    <div class="picker picker-cell"></div>
                                    <div class="picker picker-heading heading"></div>
                                    <div class="picker picker-selected-cell"></div>
                                    <div class="picker picker-selected-heading heading"></div>
                                </div>
                                <p class="desc"></p>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>

                                    
            
            <ul class="aui-buttons rte-toolbar-group-insert no-separator">
                <li class="toolbar-item toolbar-dropdown" id="insert-menu">
                    <div class="aui-dd-parent">
                        <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar-trigger aui-dd-trigger aui-button aui-button-subtle" id="rte-button-insert" data-tooltip="插入更多内容">
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-add "></span>
                            <span class="dropdown-text">插入</span>
                                        
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                        </a>

                        <div id="insert-menu-options" class="aui-dropdown grouped hidden">
                            <div class="grouped-dropdown-item">
                                <span class="assistive">插入内容</span>
                                <ul id="content-insert-list">
                                    
        
                <li class="dropdown-item content-image" data-command="mceConfimage" data-tooltip="插入文件和图片 (Ctrl+M)">
<a id="rte-insert-image" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-image "></span>
 文件和图片
</a>
</li>
                                            
        
                <li class="dropdown-item content-link" data-control-id="linkbrowserButton" data-tooltip="插入链接 (Ctrl+K)">
<a id="rte-insert-link" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-link "></span>
 链接
</a>
</li>
                                            
        
                <li class="dropdown-item content-wikimarkup" data-command="InsertWikiMarkup" data-tooltip="插入Wiki标记 (Ctrl+Shift+D)">
<a id="rte-insert-wikimarkup" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-code "></span>
 Wiki标记
</a>
</li>
                                            
    
                <li class="dropdown-item content-hr" data-command="InsertHorizontalRule" data-tooltip="插入水平线(----)">
<a id="rte-insert-hr" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-horizontal-rule "></span>
 水平线
</a>
</li>
                                                                                
        
                <li class="dropdown-item content-tasklist" data-command="InsertInlineTaskListNoToggle" data-tooltip="插入任务列表 (tinymce.propertypanel.images.link.remove.tooltip=删除图片链接)">
<a id="rte-insert-tasklist" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-task "></span>
 任务列表
</a>
</li>
                                                                            
        
                <li class="dropdown-item content-date" data-command="confMenuInsertDate" data-tooltip="插入日期 (/ then /)">
<a id="rte-insert-date" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-calendar "></span>
 日期
</a>
</li>
                                            
    
                <li class="dropdown-item content-emoticon" data-command="mceEmotion" data-tooltip="插入表情">
<a id="rte-insert-emoticon" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-emoji "></span>
 表情符号
</a>
</li>
                                            
    
                <li class="dropdown-item content-symbol" data-command="confCharmap" data-tooltip="插入符号">
<a id="rte-insert-symbol" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-symbol "></span>
 符号
</a>
</li>
                                    </ul>
                                <span class="assistive">插入宏</span>
                                <ul id="macro-insert-list">
                                                                                                                                                                                                <li class="dropdown-item macro-insertmention-button" data-macro-name="insertmention-button" data-tooltip="插入&#39;用户提及&#39;宏">
<a id="insertmention-button" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-mention "></span>
 用户提及
</a>
</li>
                                                                                                                                                            <li class="dropdown-item macro-jiralink" data-macro-name="jiralink" data-tooltip="插入&#39;Jira问题/过滤器&#39;宏">
<a id="jiralink" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-jira "></span>
 Jira问题/过滤器
</a>
</li>
                                                                                                                                                            <li class="dropdown-item macro-info" data-macro-name="info" data-tooltip="插入&#39;信息&#39;宏">
<a id="info" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-info-filled "></span>
 信息
</a>
</li>
                                                                                                                                                            <li class="dropdown-item macro-status" data-macro-name="status" data-tooltip="插入&#39;状态&#39;宏">
<a id="status" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                        
    
    <span class="icon confluence-icon-status-macro"></span>
 状态
</a>
</li>
                                                                                                                                                            <li class="dropdown-item macro-gallery" data-macro-name="gallery" data-tooltip="插入&#39;画廊&#39;宏">
<a id="gallery" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-gallery "></span>
 画廊
</a>
</li>
                                                                                                                                                            <li class="dropdown-item macro-toc" data-macro-name="toc" data-tooltip="插入&#39;目录&#39;宏">
<a id="toc" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-overview "></span>
 目录
</a>
</li>
                                                                    </ul>
                            </div>
                            <div class="grouped-dropdown-item">
                                <ul id="more-macros-list">
                                    
        
                <li class="dropdown-item content-macro" data-command="mceConfMacroBrowser" data-tooltip="打开宏浏览器 (Ctrl+Shift+A)">
<a id="rte-insert-macro" class="item-link" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#">
    其它宏
</a>
</li>
                                    </ul>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>

                            <ul class="aui-buttons rte-toolbar-group-page-layouts-section-types">
                    <li id="pagelayout-menu" class="toolbar-item toolbar-dropdown">
                        <div class="aui-dd-parent">
                            <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="toolbar-trigger aui-dd-trigger aui-button aui-button-subtle" id="rte-button-pagelayout" data-tooltip="页面布局">
                                            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-default">页面布局</span>
                                            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                            </a>

                            <ul id="pagelayout-menu-options" class="aui-dropdown hidden">
                                <li class="dropdown-item" data-tooltip="无布局">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-none&quot;, &quot;columns&quot;: 0   }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-none">无布局</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (简单)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-simple&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;]   }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-simple">两栏 (简单)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (简单，左侧栏)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-simple-left&quot;, &quot;columns&quot;: [&quot;aside&quot;, &quot;large&quot;]   }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-simple-left">两栏 (简单，左侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (简单，右侧栏)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-simple-right&quot;, &quot;columns&quot;: [&quot;large&quot;, &quot;aside&quot;]   }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-simple-right">两栏 (简单，右侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="三栏 (简单)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-three-simple&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;, &quot;&quot;]   }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-three-simple">三栏 (简单)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two">两栏</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (左侧栏)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-left&quot;, &quot;columns&quot;: [&quot;aside&quot;, &quot;large&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-left">两栏 (左侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (右侧栏)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-right&quot;, &quot;columns&quot;: [&quot;large&quot;, &quot;aside&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-right">两栏 (右侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="三列">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-three&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;, &quot;&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-three">三列</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="三栏 (左边和右侧栏)">
    <a href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-three-sidebars&quot;, &quot;columns&quot;: [&quot;sidebars&quot;, &quot;large&quot;, &quot;sidebars&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-three-sidebars">三栏 (左边和右侧栏)</span>
    </a>
</li>
                            </ul>
                        </div>
                    </li>
                </ul>
            
                        
            <ul class="aui-buttons aui-button-subtle rte-toolbar-group-undo">
                
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-undo" data-tooltip="回退 (Ctrl+Z)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="undo">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-undo ">回退</span>
    </a>
</li>
                    
            <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-redo" data-tooltip="重做 (Ctrl+Y)">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="redo">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-redo ">重做</span>
    </a>
</li>
            </ul>
        </div>                                                    <div id="draft-status" style="display:none"></div>
                <div class="aui-toolbar2-secondary">
            <ul class="aui-buttons aui-button-subtle rte-toolbar-group-searchreplace">
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-searchreplace" data-tooltip="查找/替换">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="searchreplace">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-search ">查找/替换</span>
    </a>
</li>
            </ul>
            <ul class="aui-buttons aui-button-subtle rte-toolbar-group-help">
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-help" data-tooltip="帮助">
    <a class="toolbar-trigger" href="https://wiki.n.miui.com/pages/viewpage.action?pageId=151891929#" data-control-id="help">
                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-help ">键盘快捷方式帮助</span>
    </a>
</li>
            </ul>
        </div>    </div></div>


                <div id="editor-notifications-container"><div id="all-messages"><div id="action-messages"></div></div></div><div id="editor-precursor"><div class="cell"><div class="aui-buttons aui-toolbar2"><button class="aui-button aui-button-subtle rte-button-labels" type="button" data-tooltip="标签" id="rte-button-labels" data-explicit-restrictions="" data-inherited-restrictions=""><span class="icon aui-icon aui-icon-small aui-iconfont-devtools-tag"></span></button><button class="aui-button aui-button-subtle rte-button-restrictions" type="button" data-tooltip="未限制" id="rte-button-restrictions" data-explicit-restrictions="false" data-inherited-restrictions="false"><span class="icon aui-icon aui-icon-small aui-iconfont-unlocked"></span></button></div><div id="content-title-div" class=""><input type="text" name="title" id="content-title" tabindex="1" class="text pagetitle" autocomplete="off" value="通话类音频无法在Miracast下同步投屏问题排查" placeholder="页面标题"></div></div></div>
    
<div id="wysiwyg">
    <div id="rte" class="cell editor-default ">
        <textarea id="wysiwygTextarea" name="wysiwygContent" class="hidden tinymce-editor"></textarea>
    </div>
</div>
<div id="editor-html-source-container" class="hidden">
    <textarea id="editor-html-source" class="monospaceInput"></textarea>
</div>

<div id="preview">
    <div id="previewArea" class="cell">
    </div>
</div>

    <div id="savebar-container"><div id="rte-savebar" class="aui-toolbar aui-toolbar2"><div class="toolbar-split toolbar-split-row"><div class="toolbar-split toolbar-split-left"><div class="aui-buttons"></div></div><div class="toolbar-split toolbar-split-right"><div id="pluggable-status-container" class="toolbar-item rte-toolbar-pluggable-status"><div id="pluggable-status"></div></div><div class="aui-buttons" id="rte-savebar-tinymce-plugin-point"></div><div class="aui-buttons"><span id="rte-spinner" class="toolbar-item ">&nbsp;</span></div><div class="aui-buttons toolbar-group-edit assistive"><button id="rte-button-edit" class="aui-button" title="返回编辑模式" type="button"><span class="trigger-text">编辑</span></button></div><div class="aui-buttons toolbar-group-preview toolbar-group-preview-page toolbar-group-preview-non-shared-draft"><button class="aui-button toolbar-item" id="rte-button-preview" title="预览" type="button"><span class="trigger-text">预览</span></button></div><div class="save-button-container"><button class="aui-button aui-button-primary" type="submit" id="rte-button-publish" name="confirm" value="Save" title="保存"><span class="trigger-text">保存</span></button></div><div class="aui-buttons cancel-button-container-shared-draft"><button class="aui-button" type="submit" id="rte-button-cancel" name="cancel" value="cancel">取消</button></div></div></div></div></div>


    
</div>



<script type="text/x-template" title="dynamic-editor-metadata" id="dynamic-editor-metadata-template">
            <meta name="ajs-use-watch" content="false">
            <meta name="ajs-attachment-source-content-id" content="151891929">
            <meta name="ajs-use-inline-tasks" content="true">
            <meta name="ajs-heartbeat" content="true">
            <meta name="ajs-action-locale" content="zh_CN">
            <meta name="ajs-editor-plugin-resource-prefix" content="/s/zh_CN/7901/0b59262db6a7cd3dbeee6d1b1416b77c01706b36/6.13.4/_">
            <meta name="ajs-edit-mode" content="legacy">
            <meta name="ajs-user-watching-own-content" content="true">
            <meta name="ajs-new-page" content="false">
            <meta name="ajs-editor-mode" content="richtext">
            <meta name="ajs-auto-start" content="false">
            <meta name="ajs-conf-revision" content="confluence$content$151891929.17">
            <meta name="ajs-sync-revision-source" content="">
            <meta name="ajs-draft-id" content="0">
            <meta name="ajs-draft-share-id" content="">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-collaborative-editor-status" content="">
            <meta name="ajs-existing-draft-id" content="0">
            <meta name="ajs-content-id" content="151891929">
            <meta name="ajs-form-name" content="inlinecommentform">
            <meta name="ajs-can-attach-files" content="true">
            <meta name="ajs-show-draft-message" content="false">
            <meta name="ajs-shared-drafts" content="false">
            <meta name="ajs-collaborative-content" content="false">
            <meta name="ajs-min-editor-height" content="150">
            <meta name="ajs-version-comment" content="">
            <meta name="ajs-draft-type" content="page">
                
                <meta name="ajs-synchrony-token" content="">
    <meta name="ajs-synchrony-base-url" content="">
    <meta name="ajs-synchrony-app-id" content="">
    <meta name="ajs-synchrony-expiry" content="">
    <meta name="ajs-use-xhr-fallback" content="">

            		    <meta name="ajs-max-thumb-width" content="300">
		    <meta name="ajs-max-thumb-height" content="300">
		    <meta name="ajs-can-send-email" content="true">
		    <meta name="ajs-is-dev-mode" content="false">
		    <meta name="ajs-draft-save-interval" content="60000">
		    <meta name="ajs-show-hidden-user-macros" content="false">
		    <meta name="ajs-can-view-profile" content="true">
		    <meta name="ajs-is-admin" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autocomplete" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autoformat" content="false">
		    <meta name="ajs-heartbeat-interval" content="30000">
	
    </script>

<script type="text/x-template" title="tableForm" id="table-form-template">
    <form id="tinymce-table-form" class="aui">
        <div class="field-group">
            <label for="rows">行</label>
            <input id="rows" name="rows" type="text" size="3" autocomplete="off" value="{0}">
        </div>
        <div class="field-group">
            <label for="cols">列</label>
            <input id="cols" name="cols" type="text" size="3" autocomplete="off" value="{1}">
        </div>
        <div class="field-group hidden">
            <input id="width" type="hidden" name="width" value="">
            <label for="width">宽</label>
        </div>
        <div class="group">
            <div class="checkbox">
                <input id="table-heading-checkbox" class="checkbox" type="checkbox" name="heading" checked="checked" value="true">
                <label for="table-heading-checkbox">首行设为表头</label>
            </div>
        </div>
        <div class="group hidden">
            <div class="checkbox">
                <input id="table-equal-width-columns-checkbox" class="checkbox" type="checkbox" name="equal-width-columns" value="false">
                <label for="table-equal-width-columns-checkbox">等宽列</label>
            </div>
        </div>
    </form>
</script>
<input type="hidden" name="draftId" value="0" id="draftId"><input type="hidden" name="originalVersion" value="6" id="originalVersion">
<input type="hidden" name="syncRev" value="dummy-sync-rev" id="syncRev">    <input type="hidden" name="atl_token" value="1232169562658cf39ccc1445cbb6f852b7c76be8">
</div><div id="content-hover-0" class="ajs-content-hover aui-box-shadow" style="display: none;"><div class="contents" style="width: 300px;"></div></div></body><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></html>